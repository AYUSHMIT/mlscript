:AllowParseErrors
:AllowTypeErrors // TODO rm


a
b
//│ |a|↵|b|
//│ Parsed: {a; b}

a,
b
//│ |a|,|↵|b|
//│ ╔══[ERROR] Expected end of input; found comma instead
//│ ║  l.10: 	a,
//│ ╙──      	 ^
//│ Parsed: {a}

a,
b,
//│ |a|,|↵|b|,|
//│ ╔══[ERROR] Expected end of input; found comma instead
//│ ║  l.18: 	a,
//│ ╙──      	 ^
//│ Parsed: {a}

a,
b,
c
//│ |a|,|↵|b|,|↵|c|
//│ ╔══[ERROR] Expected end of input; found comma instead
//│ ║  l.26: 	a,
//│ ╙──      	 ^
//│ Parsed: {a}

foo
  a
  b
//│ |foo|→|a|↵|b|←|
//│ Parsed: {foo {a; b}}

foo(
  a,
  b
)
//│ |foo|(BEG:|→|a|,|↵|b|←|↵|:END)|
//│ Parsed: {foo (a, b,)}

foo(
  a,
  b,
)
//│ |foo|(BEG:|→|a|,|↵|b|,|←|↵|:END)|
//│ Parsed: {foo (a, b,)}

foo(
  a
  b
)
//│ |foo|(BEG:|→|a|↵|b|←|↵|:END)|
//│ Parsed: {foo ({a; b},)}

foo(
    a
  b
)
//│ |foo|(BEG:|→|a|←|→|b|←|↵|:END)|
//│ ╔══[ERROR] Unexpected indented block here
//│ ║  l.64: 	  b
//│ ║        	^^^
//│ ║  l.65: 	)
//│ ╙──      	^
//│ Parsed: {foo (a,)}

// TODO
foo of
  a
  fun f = 1
  b
//│ |foo| |#of|→|a|↵|#fun| |f| |#=| |1|↵|b|←|
//│ ╔══[ERROR] Unexpected 'fun' keyword in expression position
//│ ║  l.77: 	  fun f = 1
//│ ╙──      	  ^^^
//│ ╔══[ERROR] Unexpected '=' keyword here
//│ ║  l.77: 	  fun f = 1
//│ ╙──      	        ^
//│ Parsed: {foo ({a; f},)}

foo +
  a
  b
//│ |foo| |+|→|a|↵|b|←|
//│ Parsed: {+ foo {a; b}}


foo(a, b, c)
foo of a, b, c
//│ |foo|(BEG:|a|,| |b|,| |c|:END)|↵|foo| |#of| |a|,| |b|,| |c|
//│ Parsed: {foo (a, b, c,); foo (a, b, c,)}

foo of
  aaaaa,
  bbbbb,
  ccccc
//│ |foo| |#of|→|aaaaa|,|↵|bbbbb|,|↵|ccccc|←|
//│ Parsed: {foo (aaaaa, bbbbb, ccccc,)}

foo of
  a
  boo
    x
    y
  c
//│ |foo| |#of|→|a|↵|boo|→|x|↵|y|←|↵|c|←|
//│ ╔══[WARNING] Paren-less applications should use the 'of' keyword
//│ ║  l.109: 	  boo
//│ ║         	  ^^^
//│ ║  l.110: 	    x
//│ ║         	^^^^^
//│ ║  l.111: 	    y
//│ ╙──       	^^^^^
//│ Parsed: {foo ({a; boo ({x; y},); c},)}




