:NewParser

fun f(x) =
  if x
    is
      A then 0
      B then 1
//│ ╔══[ERROR] constructor A not found
//│ ║  l.4: 	  if x
//│ ║       	     ^
//│ ║  l.5: 	    is
//│ ║       	^^^^^^
//│ ║  l.6: 	      A then 0
//│ ║       	^^^^^^^^^^^^^^
//│ ║  l.7: 	      B then 1
//│ ╙──     	^^^^^^^^^^^^^^
//│ f: anything -> error
//│ Code generation encountered an error:
//│   if expression has not been not desugared

fun f(x) =
  if x ==
    1
      + 2 then 0
//│ ╔══[ERROR] missing a default branch
//│ ║  l.22: 	  if x ==
//│ ║        	     ^^^^
//│ ║  l.23: 	    1
//│ ║        	^^^^^^
//│ ║  l.24: 	      + 2 then 0
//│ ╙──      	^^^^^^^^^^^^^^^^
//│ f: anything -> error
//│ Code generation encountered an error:
//│   if expression has not been not desugared

class A()
//│ Defined class A
//│ A: () -> A
//│  = [Function: A1]

fun f(x) =
  if x
    is A()
      and t then 0
      and s then 0
//│ ╔══[ERROR] missing a default branch
//│ ║  l.42: 	  if x
//│ ║        	     ^
//│ ║  l.43: 	    is A()
//│ ║        	^^^^^^^^^^
//│ ║  l.44: 	      and t then 0
//│ ║        	^^^^^^^^^^^^^^^^^^
//│ ║  l.45: 	      and s then 0
//│ ╙──      	^^^^^^^^^^^^^^^^^^
//│ f: anything -> error
//│ Code generation encountered an error:
//│   if expression has not been not desugared
