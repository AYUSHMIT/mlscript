
// * Strangely, why Y does not work (cycle check error),
// * Z type checks find thanks to recursive types...


def z: (('a -> 'b) -> (('a -> 'b) & 'c)) -> 'c
//│ z: (('a -> 'b) -> ('a -> 'b & 'c)) -> 'c
//│  = <missing implementation>

:e // due to tapping
def z =
  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ╔══[ERROR] Cyclic-looking constraint while typing application
//│ ║  l.12: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α42'' -> α49'') where: α33' <: ((‹∀ 2. {(α43''' -> α45''') where: α42'' <: ((α42'',) -> α44''')}›,) -> α49'')}›  <:  α42_67'    PolymorphicType  TypeVariable
//│ ╙──  ... looks like:  ‹∀ 1. {(α42'' -> α49'') where: α33' <: ((‹∀ 2. {(α43''' -> α45''') where: α42'' <: ((α42'',) -> α44''')}›,) -> α49'')}›  <:  α42''
//│ ((forall 'a, 'b, 'c. ('b -> 'c
//│   where
//│     'a <: 'a -> 'b -> 'c)) -> 'd & (forall 'e, 'f, 'g. ('f -> 'g
//│   where
//│     'e <: 'e -> 'f -> 'g)) -> anything & (forall 'h, 'i, 'j. ('i -> 'j
//│   where
//│     'h <: 'h -> 'i -> 'j)) -> 'a -> anything & (forall 'k, 'l, 'm. ('l -> 'm
//│   where
//│     'k <: 'k -> 'l -> 'm)) -> 'a -> anything) -> (error | 'd)
//│   <:  z:
//│ (('a -> 'b) -> ('a -> 'b & 'c)) -> 'c
//│  = [Function: z]


def pow1 = z (fun pow0 -> fun n -> fun x ->
    if n > 0 then pow0 (n - 1) x * x
    else 1
  )
//│ pow1: int -> int -> int
//│     = [Function (anonymous)]

pow1 3 4
//│ res: int
//│    = 64


def pow pow n x =
    if n > 0 then pow (n - 1) x * x
    else 1
//│ pow: (int -> 'a -> int) -> int -> (int & 'a) -> int
//│    = [Function: pow]

def pow = z pow
pow 3 4
//│ pow: int -> int -> int
//│    = [Function (anonymous)]
//│ res: int
//│    = 64


def oops = z (fun f -> f)
//│ oops: anything -> nothing
//│     = [Function (anonymous)]

:re
oops 1
//│ res: nothing
//│ Runtime error:
//│   RangeError: Maximum call stack size exceeded



:NoRecursiveTypes

:e
def z =
  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ╔══[ERROR] Cyclic-looking constraint while typing application
//│ ║  l.75: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α307'' -> α314'') where: α298' <: ((‹∀ 2. {(α308''' -> α310''') where: α307'' <: ((α307'',) -> α309''')}›,) -> α314'')}›  <:  α307_332'    PolymorphicType  TypeVariable
//│ ╙──  ... looks like:  ‹∀ 1. {(α307'' -> α314'') where: α298' <: ((‹∀ 2. {(α308''' -> α310''') where: α307'' <: ((α307'',) -> α309''')}›,) -> α314'')}›  <:  α307''
//│ ((forall 'a, 'b, 'c. ('b -> 'c
//│   where
//│     'a <: 'a -> 'b -> 'c)) -> 'd & (forall 'e, 'f, 'g. ('f -> 'g
//│   where
//│     'e <: 'e -> 'f -> 'g)) -> anything & (forall 'h, 'i, 'j. ('i -> 'j
//│   where
//│     'h <: 'h -> 'i -> 'j)) -> 'a -> anything & (forall 'k, 'l, 'm. ('l -> 'm
//│   where
//│     'k <: 'k -> 'l -> 'm)) -> 'a -> anything) -> (error | 'd)
//│   <:  z:
//│ (('a -> 'b) -> ('a -> 'b & 'c)) -> 'c
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.74: 	def z =
//│ ║        	^^^^^^^
//│ ║  l.75: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α307_416' -> α314_423'') where: α298_403' <: ((‹∀ 2. {(α308_421''' -> α310_422''') where: α307_416' <: ((α307_416',) -> α309_420''')}›,) -> α314_423'')}›  <:  ((α307_416',) -> α309_456')    PolymorphicType  FunctionType
//│ ╙──  ... looks like:  ‹∀ 1. {(α307'' -> α314'') where: α298_403' <: ((‹∀ 2. {(α308''' -> α310''') where: α307_416' <: ((α307'',) -> α309''')}›,) -> α314'')}›  <:  ((α307'',) -> α309_420''')
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.74: 	def z =
//│ ║        	^^^^^^^
//│ ║  l.75: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  α298_403'  <:  ((‹∀ 2. {(α308_421''' -> α310_422''') where: α307_416' <: ((α307_416',) -> α309_420''')}›,) -> α314_463')    TypeVariable  FunctionType
//│ ╙──  ... looks like:  α298'  <:  ((‹∀ 2. {(α308''' -> α310''') where: α307_416' <: ((α307'',) -> α309''')}›,) -> α314_423'')
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.74: 	def z =
//│ ║        	^^^^^^^
//│ ║  l.75: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  α298_403'  <:  ((‹∀ 2. {(α308_421''' -> α310_422''') where: α307_416' <: ((α307_416',) -> α309_420''')}›,) -> α314_474')    TypeVariable  FunctionType
//│ ╙──  ... looks like:  α298'  <:  ((‹∀ 2. {(α308''' -> α310''') where: α307_416' <: ((α307'',) -> α309''')}›,) -> α314_423'')
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.74: 	def z =
//│ ║        	^^^^^^^
//│ ║  l.75: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α307_416' -> α314_423'') where: α298_403' <: ((‹∀ 2. {(α308_421''' -> α310_422''') where: α307_416' <: ((α307_416',) -> α309_420''')}›,) -> α314_423'')}›  <:  ((α307_416',) -> α309_476')    PolymorphicType  FunctionType
//│ ╙──  ... looks like:  ‹∀ 1. {(α307'' -> α314'') where: α298_403' <: ((‹∀ 2. {(α308''' -> α310''') where: α307_416' <: ((α307'',) -> α309''')}›,) -> α314'')}›  <:  ((α307'',) -> α309_420''')
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.74: 	def z =
//│ ║        	^^^^^^^
//│ ║  l.75: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α307_416' -> α314_423'') where: α298_403' <: ((‹∀ 2. {(α308_421''' -> α310_422''') where: α307_416' <: ((α307_416',) -> α309_420''')}›,) -> α314_423'')}›  <:  ((α307_416',) -> α309_476')    PolymorphicType  FunctionType
//│ ╙──  ... looks like:  ‹∀ 1. {(α307'' -> α314'') where: α298_403' <: ((‹∀ 2. {(α308''' -> α310''') where: α307_416' <: ((α307'',) -> α309''')}›,) -> α314'')}›  <:  ((α307'',) -> α309_420''')
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.74: 	def z =
//│ ║        	^^^^^^^
//│ ║  l.75: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α307_416' -> α314_423'') where: α298_403' <: ((‹∀ 2. {(α308_421''' -> α310_422''') where: α307_416' <: ((α307_416',) -> α309_420''')}›,) -> α314_423'')}›  <:  ((α307_416',) -> α309_480')    PolymorphicType  FunctionType
//│ ╙──  ... looks like:  ‹∀ 1. {(α307'' -> α314'') where: α298_403' <: ((‹∀ 2. {(α308''' -> α310''') where: α307_416' <: ((α307'',) -> α309''')}›,) -> α314'')}›  <:  ((α307'',) -> α309_420''')
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.74: 	def z =
//│ ║        	^^^^^^^
//│ ║  l.75: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α307_416' -> α314_423'') where: α298_403' <: ((‹∀ 2. {(α308_421''' -> α310_422''') where: α307_416' <: ((α307_416',) -> α309_420''')}›,) -> α314_423'')}›  <:  ((α307_416',) -> α309_480')    PolymorphicType  FunctionType
//│ ╙──  ... looks like:  ‹∀ 1. {(α307'' -> α314'') where: α298_403' <: ((‹∀ 2. {(α308''' -> α310''') where: α307_416' <: ((α307'',) -> α309''')}›,) -> α314'')}›  <:  ((α307'',) -> α309_420''')
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.74: 	def z =
//│ ║        	^^^^^^^
//│ ║  l.75: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α307_416' -> α314_423'') where: α298_403' <: ((‹∀ 2. {(α308_421''' -> α310_422''') where: α307_416' <: ((α307_416',) -> α309_420''')}›,) -> α314_423'')}›  <:  ((α307_416',) -> α309_484')    PolymorphicType  FunctionType
//│ ╙──  ... looks like:  ‹∀ 1. {(α307'' -> α314'') where: α298_403' <: ((‹∀ 2. {(α308''' -> α310''') where: α307_416' <: ((α307'',) -> α309''')}›,) -> α314'')}›  <:  ((α307'',) -> α309_420''')
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.74: 	def z =
//│ ║        	^^^^^^^
//│ ║  l.75: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α307_416' -> α314_423'') where: α298_403' <: ((‹∀ 2. {(α308_421''' -> α310_422''') where: α307_416' <: ((α307_416',) -> α309_420''')}›,) -> α314_423'')}›  <:  ((α307_416',) -> α309_484')    PolymorphicType  FunctionType
//│ ╙──  ... looks like:  ‹∀ 1. {(α307'' -> α314'') where: α298_403' <: ((‹∀ 2. {(α308''' -> α310''') where: α307_416' <: ((α307'',) -> α309''')}›,) -> α314'')}›  <:  ((α307'',) -> α309_420''')
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.74: 	def z =
//│ ║        	^^^^^^^
//│ ║  l.75: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α307_416' -> α314_423'') where: α298_403' <: ((‹∀ 2. {(α308_421''' -> α310_422''') where: α307_416' <: ((α307_416',) -> α309_420''')}›,) -> α314_423'')}›  <:  ((α307_416',) -> α309_488')    PolymorphicType  FunctionType
//│ ╙──  ... looks like:  ‹∀ 1. {(α307'' -> α314'') where: α298_403' <: ((‹∀ 2. {(α308''' -> α310''') where: α307_416' <: ((α307'',) -> α309''')}›,) -> α314'')}›  <:  ((α307'',) -> α309_420''')
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.74: 	def z =
//│ ║        	^^^^^^^
//│ ║  l.75: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α307_416' -> α314_423'') where: α298_403' <: ((‹∀ 2. {(α308_421''' -> α310_422''') where: α307_416' <: ((α307_416',) -> α309_420''')}›,) -> α314_423'')}›  <:  ((α307_416',) -> α309_488')    PolymorphicType  FunctionType
//│ ╙──  ... looks like:  ‹∀ 1. {(α307'' -> α314'') where: α298_403' <: ((‹∀ 2. {(α308''' -> α310''') where: α307_416' <: ((α307'',) -> α309''')}›,) -> α314'')}›  <:  ((α307'',) -> α309_420''')
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.74: 	def z =
//│ ║        	^^^^^^^
//│ ║  l.75: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  α298_403'  <:  ((‹∀ 2. {(α308_421''' -> α310_422''') where: α307_416' <: ((α307_416',) -> α309_420''')}›,) -> α314_495')    TypeVariable  FunctionType
//│ ╙──  ... looks like:  α298'  <:  ((‹∀ 2. {(α308''' -> α310''') where: α307_416' <: ((α307'',) -> α309''')}›,) -> α314_423'')
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.74: 	def z =
//│ ║        	^^^^^^^
//│ ║  l.75: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  α298_403'  <:  ((‹∀ 2. {(α308_421''' -> α310_422''') where: α307_416' <: ((α307_416',) -> α309_420''')}›,) -> α314_496')    TypeVariable  FunctionType
//│ ╙──  ... looks like:  α298'  <:  ((‹∀ 2. {(α308''' -> α310''') where: α307_416' <: ((α307'',) -> α309''')}›,) -> α314_423'')
//│  = [Function: z1]

:NoCycleCheck

// Exceeds recursion depth limit:
:e
def z =
  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ╔══[ERROR] Subtyping constraint of the form `?a -> ?b <: (forall ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j. (?k -> ?j
//│   where
//│     ?l <: (forall ?f, ?m, ?n, ?g, ?h, ?i, ?k, ?o, ?p. (?m -> ?n
//│   where
//│     ?f <: ?k -> ?p)) -> ?j)) -> ?q` exceeded recursion depth limit (300)
//│ ║  l.204: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║         	            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── while constraining:  ‹∀ 1. {(α506'' -> α513'') where: α497' <: ((‹∀ 2. {(α507''' -> α509''') where: α506'' <: ((α506'',) -> α508''')}›,) -> α513'')}›  <!<  α506_595'
//│ ╟── while constraining:  α506_587'  <!<  α506_595'
//│ ╟── while constraining:  (α506_587',)  <!<  (α506_595',)
//│ ╟── while constraining:  (α506_595' -> α513_602')  <!<  ((α506_587',) -> α508_588')
//│ ╟── while constraining:  {(α506_595' -> α513_602') where: α497' <: ((‹∀ 2. {(α507_600''' -> α509_601''') where: α506_595' <: ((α506_595',) -> α508_599''')}›,) -> α513_602')}  <!<  ((α506_587',) -> α508_588')
//│ ╟── while constraining:  ‹∀ 1. {(α506'' -> α513'') where: α497' <: ((‹∀ 2. {(α507''' -> α509''') where: α506'' <: ((α506'',) -> α508''')}›,) -> α513'')}›  <!<  ((α506_587',) -> α508_588')
//│ ╟── while constraining:  ‹∀ 1. {(α506'' -> α513'') where: α497' <: ((‹∀ 2. {(α507''' -> α509''') where: α506'' <: ((α506'',) -> α508''')}›,) -> α513'')}›  <!<  α506_587'
//│ ╟── while constraining:  α506_579'  <!<  α506_587'
//│ ╟── while constraining:  (α506_579',)  <!<  (α506_587',)
//│ ╟── while constraining:  (α506_587' -> α513_594')  <!<  ((α506_579',) -> α508_580')
//│ ╟── while constraining:  {(α506_587' -> α513_594') where: α497' <: ((‹∀ 2. {(α507_592''' -> α509_593''') where: α506_587' <: ((α506_587',) -> α508_591''')}›,) -> α513_594')}  <!<  ((α506_579',) -> α508_580')
//│ ╟── while constraining:  ‹∀ 1. {(α506'' -> α513'') where: α497' <: ((‹∀ 2. {(α507''' -> α509''') where: α506'' <: ((α506'',) -> α508''')}›,) -> α513'')}›  <!<  ((α506_579',) -> α508_580')
//│ ╟── while constraining:  ‹∀ 1. {(α506'' -> α513'') where: α497' <: ((‹∀ 2. {(α507''' -> α509''') where: α506'' <: ((α506'',) -> α508''')}›,) -> α513'')}›  <!<  α506_579'
//│ ╟── while constraining:  α506_571'  <!<  α506_579'
//│ ╟── while constraining:  (α506_571',)  <!<  (α506_579',)
//│ ╟── ......
//│ ╟── ......
//│ ╟── while constraining:  ‹∀ 1. {(α506'' -> α513'') where: α497' <: ((‹∀ 2. {(α507''' -> α509''') where: α506'' <: ((α506'',) -> α508''')}›,) -> α513'')}›  <!<  α506_531'
//│ ╟── while constraining:  α506_523'  <!<  α506_531'
//│ ╟── while constraining:  (α506_523',)  <!<  (α506_531',)
//│ ╟── while constraining:  (α506_531' -> α513_538')  <!<  ((α506_523',) -> α508_524')
//│ ╟── while constraining:  {(α506_531' -> α513_538') where: α497' <: ((‹∀ 2. {(α507_536''' -> α509_537''') where: α506_531' <: ((α506_531',) -> α508_535''')}›,) -> α513_538')}  <!<  ((α506_523',) -> α508_524')
//│ ╟── while constraining:  ‹∀ 1. {(α506'' -> α513'') where: α497' <: ((‹∀ 2. {(α507''' -> α509''') where: α506'' <: ((α506'',) -> α508''')}›,) -> α513'')}›  <!<  ((α506_523',) -> α508_524')
//│ ╟── while constraining:  ‹∀ 1. {(α506'' -> α513'') where: α497' <: ((‹∀ 2. {(α507''' -> α509''') where: α506'' <: ((α506'',) -> α508''')}›,) -> α513'')}›  <!<  α506_523'
//│ ╟── while constraining:  α498'  <!<  α506_523'
//│ ╟── while constraining:  (α498',)  <!<  (α506_523',)
//│ ╟── while constraining:  (α506_523' -> α513_530')  <!<  ((α498',) -> α500_502')
//│ ╟── while constraining:  {(α506_523' -> α513_530') where: α497' <: ((‹∀ 2. {(α507_528''' -> α509_529''') where: α506_523' <: ((α506_523',) -> α508_527''')}›,) -> α513_530')}  <!<  ((α498',) -> α500_502')
//│ ╟── while constraining:  ‹∀ 1. {(α506'' -> α513'') where: α497' <: ((‹∀ 2. {(α507''' -> α509''') where: α506'' <: ((α506'',) -> α508''')}›,) -> α513'')}›  <!<  ((α498',) -> α500_502')
//│ ╟── while constraining:  ‹∀ 1. {(α506'' -> α513'') where: α497' <: ((‹∀ 2. {(α507''' -> α509''') where: α506'' <: ((α506'',) -> α508''')}›,) -> α513'')}›  <!<  α498'
//│ ╟── while constraining:  (‹∀ 1. {(α506'' -> α513'') where: α497' <: ((‹∀ 2. {(α507''' -> α509''') where: α506'' <: ((α506'',) -> α508''')}›,) -> α513'')}›,)  <!<  (α498',)
//│ ╙── while constraining:  (α498' -> α505')  <!<  ((‹∀ 1. {(α506'' -> α513'') where: α497' <: ((‹∀ 2. {(α507''' -> α509''') where: α506'' <: ((α506'',) -> α508''')}›,) -> α513'')}›,) -> α522')
//│ ((forall 'a, 'b, 'c. ('b -> 'c
//│   where
//│     'a <: 'a -> 'b -> 'c)) -> anything & (forall 'd, 'e, 'f. ('e -> 'f
//│   where
//│     'd <: 'd -> 'e -> 'f)) -> anything & (forall 'g, 'h, 'i. ('h -> 'i
//│   where
//│     'g <: 'g -> 'h -> 'i)) -> anything & (forall 'j, 'k, 'l. ('k -> 'l
//│   where
//│     'j <: 'j -> 'k -> 'l)) -> anything & (forall 'm, 'n, 'o. ('n -> 'o
//│   where
//│     'm <: 'm -> 'n -> 'o)) -> anything & (forall 'p, 'q, 'r. ('q -> 'r
//│   where
//│     'p <: 'p -> 'q -> 'r)) -> anything & (forall 's, 't, 'u. ('t -> 'u
//│   where
//│     's <: 's -> 't -> 'u)) -> anything & (forall 'v, 'w, 'x. ('w -> 'x
//│   where
//│     'v <: 'v -> 'w -> 'x)) -> anything & (forall 'y, 'z, 'a1. ('z -> 'a1
//│   where
//│     'y <: 'y -> 'z -> 'a1)) -> anything & (forall 'b1, 'c1, 'd1. ('c1 -> 'd1
//│   where
//│     'b1 <: 'b1 -> 'c1 -> 'd1)) -> anything & (forall 'e1, 'f1, 'g1. ('f1 -> 'g1
//│   where
//│     'e1 <: 'e1 -> 'f1 -> 'g1)) -> anything & (forall 'h1, 'i1, 'j1. ('i1 -> 'j1
//│   where
//│     'h1 <: 'h1 -> 'i1 -> 'j1)) -> anything) -> error
//│   <:  z:
//│ (('a -> 'b) -> ('a -> 'b & 'c)) -> 'c
//│ ╔══[ERROR] Subtyping constraint of the form `forall ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l, ?m, ?n, ?o, ?p, ?q, ?r, ?s, ?t, ?u, ?v, ?w, ?x, ?y, ?z, ?a1, ?b1, ?c1, ?d1, ?e1, ?f1, ?g1, ?h1, ?i1, ?j1, ?k1, ?l1, ?m1, ?n1, ?o1, ?p1, ?q1, ?r1, ?s1, ?t1, ?u1, ?v1, ?w1, ?x1, ?y1, ?z1, ?a2, ?b2, ?c2, ?d2, ?e2, ?f2, ?g2, ?h2, ?i2, ?j2, ?k2, ?l2, ?m2, ?n2, ?o2, ?p2, ?q2, ?r2, ?s2, ?t2, ?u2, ?v2, ?w2, ?x2, ?y2, ?z2, ?a3, ?b3, ?c3, ?d3, ?e3, ?f3, ?g3, ?h3, ?i3, ?j3, ?k3, ?l3, ?m3, ?n3, ?o3, ?p3, ?q3, ?r3, ?s3, ?t3. ?u2 -> ?t3 <: forall ?a, ?b, ?c. ((?a -> ?b) -> (?a -> ?b & ?c)) -> ?c` exceeded recursion depth limit (300)
//│ ║  l.203: 	def z =
//│ ║         	^^^^^^^
//│ ║  l.204: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║         	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── while constraining:  ‹∀ 1. {(α506_784' -> α513_791'') where: α497_774' <: ((‹∀ 2. {(α507_789''' -> α509_790''') where: α506_784' <: ((α506_784',) -> α508_788''')}›,) -> α513_791'')}›  <!<  ((α506_784',) -> α508_903')
//│ ╟── while constraining:  α506_784'  <!<  ((α506_784',) -> α508_903')
//│ ╟── while constraining:  {(α507_904' -> α509_905') where: α506_784' <: ((α506_784',) -> α508_903')}  <!<  (‘a' -> ‘b')
//│ ╟── while constraining:  ‹∀ 2. {(α507_789''' -> α509_790''') where: α506_784' <: ((α506_784',) -> α508_788''')}›  <!<  (‘a' -> ‘b')
//│ ╟── while constraining:  (‹∀ 2. {(α507_789''' -> α509_790''') where: α506_784' <: ((α506_784',) -> α508_788''')}›,)  <!<  ((‘a' -> ‘b'),)
//│ ╟── while constraining:  ((‘a' -> ‘b') -> ((‘a' -> ‘b') & ‘c'))  <!<  ((‹∀ 2. {(α507_789''' -> α509_790''') where: α506_784' <: ((α506_784',) -> α508_788''')}›,) -> α513_902')
//│ ╟── while constraining:  α497_774'  <!<  ((‹∀ 2. {(α507_789''' -> α509_790''') where: α506_784' <: ((α506_784',) -> α508_788''')}›,) -> α513_902')
//│ ╟── while constraining:  {(α506_784' -> α513_902') where: α497_774' <: ((‹∀ 2. {(α507_789''' -> α509_790''') where: α506_784' <: ((α506_784',) -> α508_788''')}›,) -> α513_902')}  <!<  ((α506_784',) -> α508_899')
//│ ╟── while constraining:  ‹∀ 1. {(α506_784' -> α513_791'') where: α497_774' <: ((‹∀ 2. {(α507_789''' -> α509_790''') where: α506_784' <: ((α506_784',) -> α508_788''')}›,) -> α513_791'')}›  <!<  ((α506_784',) -> α508_899')
//│ ╟── while constraining:  α506_784'  <!<  ((α506_784',) -> α508_899')
//│ ╟── while constraining:  {(α507_900' -> α509_901') where: α506_784' <: ((α506_784',) -> α508_899')}  <!<  (‘a' -> ‘b')
//│ ╟── while constraining:  ‹∀ 2. {(α507_789''' -> α509_790''') where: α506_784' <: ((α506_784',) -> α508_788''')}›  <!<  (‘a' -> ‘b')
//│ ╟── while constraining:  (‹∀ 2. {(α507_789''' -> α509_790''') where: α506_784' <: ((α506_784',) -> α508_788''')}›,)  <!<  ((‘a' -> ‘b'),)
//│ ╟── while constraining:  ((‘a' -> ‘b') -> ((‘a' -> ‘b') & ‘c'))  <!<  ((‹∀ 2. {(α507_789''' -> α509_790''') where: α506_784' <: ((α506_784',) -> α508_788''')}›,) -> α513_898')
//│ ╟── while constraining:  α497_774'  <!<  ((‹∀ 2. {(α507_789''' -> α509_790''') where: α506_784' <: ((α506_784',) -> α508_788''')}›,) -> α513_898')
//│ ╟── ......
//│ ╟── ......
//│ ╟── while constraining:  α506_783'  <!<  α506_784'
//│ ╟── while constraining:  (α506_783',)  <!<  (α506_784',)
//│ ╟── while constraining:  (α506_784' -> α513_886')  <!<  ((α506_783',) -> α508_883')
//│ ╟── while constraining:  {(α506_784' -> α513_886') where: α497_774' <: ((‹∀ 2. {(α507_789''' -> α509_790''') where: α506_784' <: ((α506_784',) -> α508_788''')}›,) -> α513_886')}  <!<  ((α506_783',) -> α508_883')
//│ ╟── while constraining:  ‹∀ 1. {(α506_784' -> α513_791'') where: α497_774' <: ((‹∀ 2. {(α507_789''' -> α509_790''') where: α506_784' <: ((α506_784',) -> α508_788''')}›,) -> α513_791'')}›  <!<  ((α506_783',) -> α508_883')
//│ ╟── while constraining:  α506_783'  <!<  ((α506_783',) -> α508_883')
//│ ╟── while constraining:  {(α507_884' -> α509_885') where: α506_783' <: ((α506_783',) -> α508_883')}  <!<  (‘a' -> ‘b')
//│ ╟── while constraining:  ‹∀ 2. {(α507_796''' -> α509_797''') where: α506_783' <: ((α506_783',) -> α508_795''')}›  <!<  (‘a' -> ‘b')
//│ ╟── while constraining:  (‹∀ 2. {(α507_796''' -> α509_797''') where: α506_783' <: ((α506_783',) -> α508_795''')}›,)  <!<  ((‘a' -> ‘b'),)
//│ ╟── while constraining:  ((‘a' -> ‘b') -> ((‘a' -> ‘b') & ‘c'))  <!<  ((‹∀ 2. {(α507_796''' -> α509_797''') where: α506_783' <: ((α506_783',) -> α508_795''')}›,) -> α513_798')
//│ ╟── while constraining:  ((‘a' -> ‘b') -> ((‘a' -> ‘b') & ‘c'))  <!<  α497_774'
//│ ╟── while constraining:  (((‘a' -> ‘b') -> ((‘a' -> ‘b') & ‘c')),)  <!<  (α497_774',)
//│ ╟── while constraining:  (α497_774' -> α522_879')  <!<  (((‘a' -> ‘b') -> ((‘a' -> ‘b') & ‘c')) -> ‘c')
//│ ╟── while constraining:  ‹∀ 0. (α497' -> α522')›  <!<  (((‘a' -> ‘b') -> ((‘a' -> ‘b') & ‘c')) -> ‘c')
//│ ╙── while constraining:  ‹∀ 0. (α497' -> α522')›  <!<  ‹∀ 0. ((('a21' -> 'b22') -> (('a21' -> 'b22') & 'c23')) -> 'c23')›
//│  = [Function: z2]

