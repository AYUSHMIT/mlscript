
// * Strangely, why Y does not work (cycle check error),
// * Z type checks find thanks to recursive types...


def z: (('a -> 'b) -> (('a -> 'b) & 'c)) -> 'c
//│ z: (('a -> 'b) -> ('a -> 'b & 'c)) -> 'c
//│  = <missing implementation>

:e // due to tapping
def z =
  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ╔══[ERROR] Cyclic-looking constraint while typing application
//│ ║  l.12: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α42'' -> α49'') where: α33' <: ((‹∀ 2. {(α43''' -> α45''') where: α42'' <: ((α42'',) -> α44'''), α44''' <: ((α43''',) -> α45''')}›,) -> α49''), α42'' <: ((α42'',) -> α44_46''), α44_46'' <: ((α43_47'',) -> α45_48'')}›  <:  α42_67'    PolymorphicType  TypeVariable
//│ ╙──  ... looks like:  ‹∀ 1. {(α42'' -> α49'') where: α33' <: ((‹∀ 2. {(α43''' -> α45''') where: α42'' <: ((α42'',) -> α44'''), α44''' <: ((α43''',) -> α45''')}›,) -> α49''), α42'' <: ((α42'',) -> α44_46''), α44_46'' <: ((α43_47'',) -> α45_48'')}›  <:  α42''
//│ ((forall 'a, 'b, 'c, 'd. ('c -> 'd
//│   where
//│     'a <: 'a -> 'b
//│     'b <: 'c -> 'd)) -> 'e & (forall 'f, 'g, 'h, 'i. ('h -> 'i
//│   where
//│     'f <: 'f -> 'g
//│     'g <: 'h -> 'i)) -> 'b & (forall 'j, 'k, 'l, 'm. ('l -> 'm
//│   where
//│     'j <: 'j -> 'k
//│     'k <: 'l -> 'm)) -> 'a -> 'b & (forall 'n, 'o, 'p, 'q. ('p -> 'q
//│   where
//│     'n <: 'n -> 'o
//│     'o <: 'p -> 'q)) -> 'a -> 'b) -> (error | 'e)
//│   <:  z:
//│ (('a -> 'b) -> ('a -> 'b & 'c)) -> 'c
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.11: 	def z =
//│ ║        	^^^^^^^
//│ ║  l.12: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α42_159'' -> α49_164'') where: α33_146' <: ((‹∀ 2. {(α43_162''' -> α45_163''') where: α42_159'' <: ((α42_159'',) -> α44_161'''), α44_161''' <: ((α43_162''',) -> α45_163''')}›,) -> α49_164''), α42_159'' <: ((α42_159'',) -> α44_160''), α44_160'' <: ((α43_165'',) -> α45_166'')}›  <:  α42_205'    PolymorphicType  TypeVariable
//│ ╙──  ... looks like:  ‹∀ 1. {(α42'' -> α49'') where: α33_146' <: ((‹∀ 2. {(α43''' -> α45''') where: α42_159'' <: ((α42'',) -> α44'''), α44_161''' <: ((α43''',) -> α45''')}›,) -> α49''), α42_159'' <: ((α42'',) -> α44_46''), α44_160'' <: ((α43_47'',) -> α45_48'')}›  <:  α42_159''
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.11: 	def z =
//│ ║        	^^^^^^^
//│ ║  l.12: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α42_159'' -> α49_164'') where: α33_146' <: ((‹∀ 2. {(α43_162''' -> α45_163''') where: α42_159'' <: ((α42_159'',) -> α44_161'''), α44_161''' <: ((α43_162''',) -> α45_163''')}›,) -> α49_164''), α42_159'' <: ((α42_159'',) -> α44_160''), α44_160'' <: ((α43_165'',) -> α45_166'')}›  <:  α42_216'    PolymorphicType  TypeVariable
//│ ╙──  ... looks like:  ‹∀ 1. {(α42'' -> α49'') where: α33_146' <: ((‹∀ 2. {(α43''' -> α45''') where: α42_159'' <: ((α42'',) -> α44'''), α44_161''' <: ((α43''',) -> α45''')}›,) -> α49''), α42_159'' <: ((α42'',) -> α44_46''), α44_160'' <: ((α43_47'',) -> α45_48'')}›  <:  α42_159''
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.11: 	def z =
//│ ║        	^^^^^^^
//│ ║  l.12: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α42_159'' -> α49_164'') where: α33_146' <: ((‹∀ 2. {(α43_162''' -> α45_163''') where: α42_159'' <: ((α42_159'',) -> α44_161'''), α44_161''' <: ((α43_162''',) -> α45_163''')}›,) -> α49_164''), α42_159'' <: ((α42_159'',) -> α44_160''), α44_160'' <: ((α43_165'',) -> α45_166'')}›  <:  α42_244'    PolymorphicType  TypeVariable
//│ ╙──  ... looks like:  ‹∀ 1. {(α42'' -> α49'') where: α33_146' <: ((‹∀ 2. {(α43''' -> α45''') where: α42_159'' <: ((α42'',) -> α44'''), α44_161''' <: ((α43''',) -> α45''')}›,) -> α49''), α42_159'' <: ((α42'',) -> α44_46''), α44_160'' <: ((α43_47'',) -> α45_48'')}›  <:  α42_159''
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.11: 	def z =
//│ ║        	^^^^^^^
//│ ║  l.12: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α42_159'' -> α49_164'') where: α33_146' <: ((‹∀ 2. {(α43_162''' -> α45_163''') where: α42_159'' <: ((α42_159'',) -> α44_161'''), α44_161''' <: ((α43_162''',) -> α45_163''')}›,) -> α49_164''), α42_159'' <: ((α42_159'',) -> α44_160''), α44_160'' <: ((α43_165'',) -> α45_166'')}›  <:  α42_255'    PolymorphicType  TypeVariable
//│ ╙──  ... looks like:  ‹∀ 1. {(α42'' -> α49'') where: α33_146' <: ((‹∀ 2. {(α43''' -> α45''') where: α42_159'' <: ((α42'',) -> α44'''), α44_161''' <: ((α43''',) -> α45''')}›,) -> α49''), α42_159'' <: ((α42'',) -> α44_46''), α44_160'' <: ((α43_47'',) -> α45_48'')}›  <:  α42_159''
//│  = [Function: z]


def pow1 = z (fun pow0 -> fun n -> fun x ->
    if n > 0 then pow0 (n - 1) x * x
    else 1
  )
//│ pow1: int -> int -> int
//│     = [Function (anonymous)]

pow1 3 4
//│ res: int
//│    = 64


def pow pow n x =
    if n > 0 then pow (n - 1) x * x
    else 1
//│ pow: (int -> 'a -> int) -> int -> (int & 'a) -> int
//│    = [Function: pow]

def pow = z pow
pow 3 4
//│ pow: int -> int -> int
//│    = [Function (anonymous)]
//│ res: int
//│    = 64


def oops = z (fun f -> f)
//│ oops: anything -> nothing
//│     = [Function (anonymous)]

:re
oops 1
//│ res: nothing
//│ Runtime error:
//│   RangeError: Maximum call stack size exceeded



:NoRecursiveTypes

:e
def z =
  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ╔══[ERROR] Cyclic-looking constraint while typing application
//│ ║  l.111: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║         	            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α397'' -> α404'') where: α399_401'' <: ((α398_402'',) -> α400_403''), α388' <: ((‹∀ 2. {(α398''' -> α400''') where: α397'' <: ((α397'',) -> α399'''), α399''' <: ((α398''',) -> α400''')}›,) -> α404''), α397'' <: ((α397'',) -> α399_401'')}›  <:  α397_423'    PolymorphicType  TypeVariable
//│ ╙──  ... looks like:  ‹∀ 1. {(α397'' -> α404'') where: α399_401'' <: ((α398_402'',) -> α400_403''), α388' <: ((‹∀ 2. {(α398''' -> α400''') where: α397'' <: ((α397'',) -> α399'''), α399''' <: ((α398''',) -> α400''')}›,) -> α404''), α397'' <: ((α397'',) -> α399_401'')}›  <:  α397''
//│ ((forall 'a, 'b, 'c, 'd. ('c -> 'd
//│   where
//│     'a <: 'a -> 'b
//│     'b <: 'c -> 'd)) -> 'e & (forall 'f, 'g, 'h, 'i. ('h -> 'i
//│   where
//│     'f <: 'f -> 'g
//│     'g <: 'h -> 'i)) -> 'b & (forall 'j, 'k, 'l, 'm. ('l -> 'm
//│   where
//│     'j <: 'j -> 'k
//│     'k <: 'l -> 'm)) -> 'a -> 'b & (forall 'n, 'o, 'p, 'q. ('p -> 'q
//│   where
//│     'n <: 'n -> 'o
//│     'o <: 'p -> 'q)) -> 'a -> 'b) -> (error | 'e)
//│   <:  z:
//│ (('a -> 'b) -> ('a -> 'b & 'c)) -> 'c
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.110: 	def z =
//│ ║         	^^^^^^^
//│ ║  l.111: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║         	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α397_515'' -> α404_521'') where: α399_514'' <: ((α398_516'',) -> α400_517''), α388_501' <: ((‹∀ 2. {(α398_519''' -> α400_520''') where: α397_515'' <: ((α397_515'',) -> α399_518'''), α399_518''' <: ((α398_519''',) -> α400_520''')}›,) -> α404_521''), α397_515'' <: ((α397_515'',) -> α399_514'')}›  <:  α397_561'    PolymorphicType  TypeVariable
//│ ╙──  ... looks like:  ‹∀ 1. {(α397'' -> α404'') where: α399_514'' <: ((α398_402'',) -> α400_403''), α388_501' <: ((‹∀ 2. {(α398''' -> α400''') where: α397_515'' <: ((α397'',) -> α399'''), α399_518''' <: ((α398''',) -> α400''')}›,) -> α404''), α397_515'' <: ((α397'',) -> α399_401'')}›  <:  α397_515''
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.110: 	def z =
//│ ║         	^^^^^^^
//│ ║  l.111: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║         	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α397_515'' -> α404_521'') where: α399_514'' <: ((α398_516'',) -> α400_517''), α388_501' <: ((‹∀ 2. {(α398_519''' -> α400_520''') where: α397_515'' <: ((α397_515'',) -> α399_518'''), α399_518''' <: ((α398_519''',) -> α400_520''')}›,) -> α404_521''), α397_515'' <: ((α397_515'',) -> α399_514'')}›  <:  α397_572'    PolymorphicType  TypeVariable
//│ ╙──  ... looks like:  ‹∀ 1. {(α397'' -> α404'') where: α399_514'' <: ((α398_402'',) -> α400_403''), α388_501' <: ((‹∀ 2. {(α398''' -> α400''') where: α397_515'' <: ((α397'',) -> α399'''), α399_518''' <: ((α398''',) -> α400''')}›,) -> α404''), α397_515'' <: ((α397'',) -> α399_401'')}›  <:  α397_515''
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.110: 	def z =
//│ ║         	^^^^^^^
//│ ║  l.111: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║         	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α397_515'' -> α404_521'') where: α399_514'' <: ((α398_516'',) -> α400_517''), α388_501' <: ((‹∀ 2. {(α398_519''' -> α400_520''') where: α397_515'' <: ((α397_515'',) -> α399_518'''), α399_518''' <: ((α398_519''',) -> α400_520''')}›,) -> α404_521''), α397_515'' <: ((α397_515'',) -> α399_514'')}›  <:  α397_600'    PolymorphicType  TypeVariable
//│ ╙──  ... looks like:  ‹∀ 1. {(α397'' -> α404'') where: α399_514'' <: ((α398_402'',) -> α400_403''), α388_501' <: ((‹∀ 2. {(α398''' -> α400''') where: α397_515'' <: ((α397'',) -> α399'''), α399_518''' <: ((α398''',) -> α400''')}›,) -> α404''), α397_515'' <: ((α397'',) -> α399_401'')}›  <:  α397_515''
//│ ╔══[ERROR] Cyclic-looking constraint while typing def definition
//│ ║  l.110: 	def z =
//│ ║         	^^^^^^^
//│ ║  l.111: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║         	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── ————————— Additional debugging info: —————————
//│ ╟── this constraint:  ‹∀ 1. {(α397_515'' -> α404_521'') where: α399_514'' <: ((α398_516'',) -> α400_517''), α388_501' <: ((‹∀ 2. {(α398_519''' -> α400_520''') where: α397_515'' <: ((α397_515'',) -> α399_518'''), α399_518''' <: ((α398_519''',) -> α400_520''')}›,) -> α404_521''), α397_515'' <: ((α397_515'',) -> α399_514'')}›  <:  α397_611'    PolymorphicType  TypeVariable
//│ ╙──  ... looks like:  ‹∀ 1. {(α397'' -> α404'') where: α399_514'' <: ((α398_402'',) -> α400_403''), α388_501' <: ((‹∀ 2. {(α398''' -> α400''') where: α397_515'' <: ((α397'',) -> α399'''), α399_518''' <: ((α398''',) -> α400''')}›,) -> α404''), α397_515'' <: ((α397'',) -> α399_401'')}›  <:  α397_515''
//│  = [Function: z1]

:NoCycleCheck

// Exceeds recursion depth limit:
:e
def z =
  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ╔══[ERROR] Subtyping constraint of the form `?a -> ?b <: (forall ?c, ?d, ?e, ?f, ?g. (?e -> ?g
//│   where
//│     ?e <: ?e -> ?f
//│     ?f <: ?h -> ?i
//│     ?j <: (forall ?e, ?k, ?l, ?m. (?k -> ?m
//│   where
//│     ?e <: ?e -> ?l
//│     ?l <: ?k -> ?m)) -> ?g)) -> ?n` exceeded recursion depth limit (300)
//│ ║  l.172: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║         	            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── while constraining:  ‹∀ 1. {(α630'' -> α637'') where: α630'' <: ((α630'',) -> α632_634''), α632_634'' <: ((α631_635'',) -> α633_636''), α621' <: ((‹∀ 2. {(α631''' -> α633''') where: α630'' <: ((α630'',) -> α632'''), α632''' <: ((α631''',) -> α633''')}›,) -> α637'')}›  <!<  α630_719'
//│ ╟── while constraining:  α630_711'  <!<  α630_719'
//│ ╟── while constraining:  (α630_711',)  <!<  (α630_719',)
//│ ╟── while constraining:  (α630_719' -> α637_726')  <!<  ((α630_711',) -> α632_712')
//│ ╟── while constraining:  {(α630_719' -> α637_726') where: α630_719' <: ((α630_719',) -> α632_720'), α632_720' <: ((α631_721',) -> α633_722'), α621' <: ((‹∀ 2. {(α631_724''' -> α633_725''') where: α630_719' <: ((α630_719',) -> α632_723'''), α632_723''' <: ((α631_724''',) -> α633_725''')}›,) -> α637_726')}  <!<  ((α630_711',) -> α632_712')
//│ ╟── while constraining:  ‹∀ 1. {(α630'' -> α637'') where: α630'' <: ((α630'',) -> α632_634''), α632_634'' <: ((α631_635'',) -> α633_636''), α621' <: ((‹∀ 2. {(α631''' -> α633''') where: α630'' <: ((α630'',) -> α632'''), α632''' <: ((α631''',) -> α633''')}›,) -> α637'')}›  <!<  ((α630_711',) -> α632_712')
//│ ╟── while constraining:  ‹∀ 1. {(α630'' -> α637'') where: α630'' <: ((α630'',) -> α632_634''), α632_634'' <: ((α631_635'',) -> α633_636''), α621' <: ((‹∀ 2. {(α631''' -> α633''') where: α630'' <: ((α630'',) -> α632'''), α632''' <: ((α631''',) -> α633''')}›,) -> α637'')}›  <!<  α630_711'
//│ ╟── while constraining:  α630_703'  <!<  α630_711'
//│ ╟── while constraining:  (α630_703',)  <!<  (α630_711',)
//│ ╟── while constraining:  (α630_711' -> α637_718')  <!<  ((α630_703',) -> α632_704')
//│ ╟── while constraining:  {(α630_711' -> α637_718') where: α630_711' <: ((α630_711',) -> α632_712'), α632_712' <: ((α631_713',) -> α633_714'), α621' <: ((‹∀ 2. {(α631_716''' -> α633_717''') where: α630_711' <: ((α630_711',) -> α632_715'''), α632_715''' <: ((α631_716''',) -> α633_717''')}›,) -> α637_718')}  <!<  ((α630_703',) -> α632_704')
//│ ╟── while constraining:  ‹∀ 1. {(α630'' -> α637'') where: α630'' <: ((α630'',) -> α632_634''), α632_634'' <: ((α631_635'',) -> α633_636''), α621' <: ((‹∀ 2. {(α631''' -> α633''') where: α630'' <: ((α630'',) -> α632'''), α632''' <: ((α631''',) -> α633''')}›,) -> α637'')}›  <!<  ((α630_703',) -> α632_704')
//│ ╟── while constraining:  ‹∀ 1. {(α630'' -> α637'') where: α630'' <: ((α630'',) -> α632_634''), α632_634'' <: ((α631_635'',) -> α633_636''), α621' <: ((‹∀ 2. {(α631''' -> α633''') where: α630'' <: ((α630'',) -> α632'''), α632''' <: ((α631''',) -> α633''')}›,) -> α637'')}›  <!<  α630_703'
//│ ╟── while constraining:  α630_695'  <!<  α630_703'
//│ ╟── while constraining:  (α630_695',)  <!<  (α630_703',)
//│ ╟── ......
//│ ╟── ......
//│ ╟── while constraining:  ‹∀ 1. {(α630'' -> α637'') where: α630'' <: ((α630'',) -> α632_634''), α632_634'' <: ((α631_635'',) -> α633_636''), α621' <: ((‹∀ 2. {(α631''' -> α633''') where: α630'' <: ((α630'',) -> α632'''), α632''' <: ((α631''',) -> α633''')}›,) -> α637'')}›  <!<  α630_655'
//│ ╟── while constraining:  α630_647'  <!<  α630_655'
//│ ╟── while constraining:  (α630_647',)  <!<  (α630_655',)
//│ ╟── while constraining:  (α630_655' -> α637_662')  <!<  ((α630_647',) -> α632_648')
//│ ╟── while constraining:  {(α630_655' -> α637_662') where: α630_655' <: ((α630_655',) -> α632_656'), α632_656' <: ((α631_657',) -> α633_658'), α621' <: ((‹∀ 2. {(α631_660''' -> α633_661''') where: α630_655' <: ((α630_655',) -> α632_659'''), α632_659''' <: ((α631_660''',) -> α633_661''')}›,) -> α637_662')}  <!<  ((α630_647',) -> α632_648')
//│ ╟── while constraining:  ‹∀ 1. {(α630'' -> α637'') where: α630'' <: ((α630'',) -> α632_634''), α632_634'' <: ((α631_635'',) -> α633_636''), α621' <: ((‹∀ 2. {(α631''' -> α633''') where: α630'' <: ((α630'',) -> α632'''), α632''' <: ((α631''',) -> α633''')}›,) -> α637'')}›  <!<  ((α630_647',) -> α632_648')
//│ ╟── while constraining:  ‹∀ 1. {(α630'' -> α637'') where: α630'' <: ((α630'',) -> α632_634''), α632_634'' <: ((α631_635'',) -> α633_636''), α621' <: ((‹∀ 2. {(α631''' -> α633''') where: α630'' <: ((α630'',) -> α632'''), α632''' <: ((α631''',) -> α633''')}›,) -> α637'')}›  <!<  α630_647'
//│ ╟── while constraining:  α622'  <!<  α630_647'
//│ ╟── while constraining:  (α622',)  <!<  (α630_647',)
//│ ╟── while constraining:  (α630_647' -> α637_654')  <!<  ((α622',) -> α624_626')
//│ ╟── while constraining:  {(α630_647' -> α637_654') where: α630_647' <: ((α630_647',) -> α632_648'), α632_648' <: ((α631_649',) -> α633_650'), α621' <: ((‹∀ 2. {(α631_652''' -> α633_653''') where: α630_647' <: ((α630_647',) -> α632_651'''), α632_651''' <: ((α631_652''',) -> α633_653''')}›,) -> α637_654')}  <!<  ((α622',) -> α624_626')
//│ ╟── while constraining:  ‹∀ 1. {(α630'' -> α637'') where: α630'' <: ((α630'',) -> α632_634''), α632_634'' <: ((α631_635'',) -> α633_636''), α621' <: ((‹∀ 2. {(α631''' -> α633''') where: α630'' <: ((α630'',) -> α632'''), α632''' <: ((α631''',) -> α633''')}›,) -> α637'')}›  <!<  ((α622',) -> α624_626')
//│ ╟── while constraining:  ‹∀ 1. {(α630'' -> α637'') where: α630'' <: ((α630'',) -> α632_634''), α632_634'' <: ((α631_635'',) -> α633_636''), α621' <: ((‹∀ 2. {(α631''' -> α633''') where: α630'' <: ((α630'',) -> α632'''), α632''' <: ((α631''',) -> α633''')}›,) -> α637'')}›  <!<  α622'
//│ ╟── while constraining:  (‹∀ 1. {(α630'' -> α637'') where: α630'' <: ((α630'',) -> α632_634''), α632_634'' <: ((α631_635'',) -> α633_636''), α621' <: ((‹∀ 2. {(α631''' -> α633''') where: α630'' <: ((α630'',) -> α632'''), α632''' <: ((α631''',) -> α633''')}›,) -> α637'')}›,)  <!<  (α622',)
//│ ╙── while constraining:  (α622' -> α629')  <!<  ((‹∀ 1. {(α630'' -> α637'') where: α630'' <: ((α630'',) -> α632_634''), α632_634'' <: ((α631_635'',) -> α633_636''), α621' <: ((‹∀ 2. {(α631''' -> α633''') where: α630'' <: ((α630'',) -> α632'''), α632''' <: ((α631''',) -> α633''')}›,) -> α637'')}›,) -> α646')
//│ ((forall 'a, 'b, 'c, 'd. ('b -> 'c
//│   where
//│     'a <: 'b -> 'c
//│     'd <: 'd -> 'a)) -> 'a & (forall 'e, 'f, 'g, 'h. ('g -> 'h
//│   where
//│     'e <: 'e -> 'f
//│     'f <: 'g -> 'h)) -> 'a & (forall 'i, 'j, 'k, 'l. ('k -> 'l
//│   where
//│     'i <: 'i -> 'j
//│     'j <: 'k -> 'l)) -> 'a & (forall 'm, 'n, 'o, 'p. ('o -> 'p
//│   where
//│     'm <: 'm -> 'n
//│     'n <: 'o -> 'p)) -> 'a & (forall 'q, 'r, 's, 't. ('s -> 't
//│   where
//│     'q <: 'q -> 'r
//│     'r <: 's -> 't)) -> 'a & (forall 'u, 'v, 'w, 'x. ('w -> 'x
//│   where
//│     'u <: 'u -> 'v
//│     'v <: 'w -> 'x)) -> 'a & (forall 'y, 'z, 'a1, 'b1. ('a1 -> 'b1
//│   where
//│     'y <: 'y -> 'z
//│     'z <: 'a1 -> 'b1)) -> 'a & (forall 'c1, 'd1, 'e1, 'f1. ('e1 -> 'f1
//│   where
//│     'c1 <: 'c1 -> 'd1
//│     'd1 <: 'e1 -> 'f1)) -> 'a & (forall 'g1, 'h1, 'i1, 'j1. ('i1 -> 'j1
//│   where
//│     'g1 <: 'g1 -> 'h1
//│     'h1 <: 'i1 -> 'j1)) -> 'a & (forall 'k1, 'l1, 'm1, 'n1. ('m1 -> 'n1
//│   where
//│     'k1 <: 'k1 -> 'l1
//│     'l1 <: 'm1 -> 'n1)) -> 'a & (forall 'o1, 'p1, 'q1, 'r1. ('q1 -> 'r1
//│   where
//│     'o1 <: 'o1 -> 'p1
//│     'p1 <: 'q1 -> 'r1)) -> 'a & (forall 's1, 't1, 'u1, 'v1. ('u1 -> 'v1
//│   where
//│     's1 <: 's1 -> 't1
//│     't1 <: 'u1 -> 'v1)) -> 'a) -> error
//│   <:  z:
//│ (('a -> 'b) -> ('a -> 'b & 'c)) -> 'c
//│ ╔══[ERROR] Subtyping constraint of the form `forall ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l, ?m, ?n, ?o, ?p, ?q, ?r, ?s, ?t, ?u, ?v, ?w, ?x, ?y, ?z, ?a1, ?b1, ?c1, ?d1, ?e1, ?f1, ?g1, ?h1, ?i1, ?j1, ?k1, ?l1, ?m1, ?n1, ?o1, ?p1, ?q1, ?r1, ?s1, ?t1, ?u1, ?v1, ?w1, ?x1, ?y1, ?z1, ?a2, ?b2, ?c2, ?d2, ?e2, ?f2, ?g2, ?h2, ?i2, ?j2, ?k2, ?l2, ?m2, ?n2, ?o2, ?p2, ?q2, ?r2, ?s2, ?t2, ?u2, ?v2, ?w2, ?x2, ?y2, ?z2, ?a3, ?b3, ?c3, ?d3, ?e3, ?f3, ?g3, ?h3, ?i3, ?j3, ?k3, ?l3, ?m3, ?n3, ?o3. ?p2 -> ?o3 <: forall ?a, ?b, ?c. ((?a -> ?b) -> (?a -> ?b & ?c)) -> ?c` exceeded recursion depth limit (300)
//│ ║  l.171: 	def z =
//│ ║         	^^^^^^^
//│ ║  l.172: 	  (fun f -> (fun x -> f (fun v -> (x x) v)) (fun x -> f (fun v -> (x x) v)))
//│ ║         	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── while constraining:  ‹∀ 1. {(α630_926'' -> α637_933'') where: α630_926'' <: ((α630_926'',) -> α632_927''), α632_927'' <: ((α631_928'',) -> α633_929''), α621_916' <: ((‹∀ 2. {(α631_931''' -> α633_932''') where: α630_926'' <: ((α630_926'',) -> α632_930'''), α632_930''' <: ((α631_931''',) -> α633_932''')}›,) -> α637_933'')}›  <!<  α630_1072'
//│ ╟── while constraining:  α630_1061'  <!<  α630_1072'
//│ ╟── while constraining:  (α630_1061',)  <!<  (α630_1072',)
//│ ╟── while constraining:  (α630_1072' -> α637_1079')  <!<  ((α630_1061',) -> α632_1069')
//│ ╟── while constraining:  {(α630_1072' -> α637_1079') where: α630_1072' <: ((α630_1072',) -> α632_1073'), α632_1073' <: ((α631_1074',) -> α633_1075'), α621_916' <: ((‹∀ 2. {(α631_1077''' -> α633_1078''') where: α630_1072' <: ((α630_1072',) -> α632_1076'''), α632_1076''' <: ((α631_1077''',) -> α633_1078''')}›,) -> α637_1079')}  <!<  ((α630_1061',) -> α632_1069')
//│ ╟── while constraining:  ‹∀ 1. {(α630_926'' -> α637_933'') where: α630_926'' <: ((α630_926'',) -> α632_927''), α632_927'' <: ((α631_928'',) -> α633_929''), α621_916' <: ((‹∀ 2. {(α631_931''' -> α633_932''') where: α630_926'' <: ((α630_926'',) -> α632_930'''), α632_930''' <: ((α631_931''',) -> α633_932''')}›,) -> α637_933'')}›  <!<  ((α630_1061',) -> α632_1069')
//│ ╟── while constraining:  ‹∀ 1. {(α630_926'' -> α637_933'') where: α630_926'' <: ((α630_926'',) -> α632_927''), α632_927'' <: ((α631_928'',) -> α633_929''), α621_916' <: ((‹∀ 2. {(α631_931''' -> α633_932''') where: α630_926'' <: ((α630_926'',) -> α632_930'''), α632_930''' <: ((α631_931''',) -> α633_932''')}›,) -> α637_933'')}›  <!<  α630_1061'
//│ ╟── while constraining:  α630_1050'  <!<  α630_1061'
//│ ╟── while constraining:  (α630_1050',)  <!<  (α630_1061',)
//│ ╟── while constraining:  (α630_1061' -> α637_1068')  <!<  ((α630_1050',) -> α632_1058')
//│ ╟── while constraining:  {(α630_1061' -> α637_1068') where: α630_1061' <: ((α630_1061',) -> α632_1062'), α632_1062' <: ((α631_1063',) -> α633_1064'), α621_916' <: ((‹∀ 2. {(α631_1066''' -> α633_1067''') where: α630_1061' <: ((α630_1061',) -> α632_1065'''), α632_1065''' <: ((α631_1066''',) -> α633_1067''')}›,) -> α637_1068')}  <!<  ((α630_1050',) -> α632_1058')
//│ ╟── while constraining:  ‹∀ 1. {(α630_926'' -> α637_933'') where: α630_926'' <: ((α630_926'',) -> α632_927''), α632_927'' <: ((α631_928'',) -> α633_929''), α621_916' <: ((‹∀ 2. {(α631_931''' -> α633_932''') where: α630_926'' <: ((α630_926'',) -> α632_930'''), α632_930''' <: ((α631_931''',) -> α633_932''')}›,) -> α637_933'')}›  <!<  ((α630_1050',) -> α632_1058')
//│ ╟── while constraining:  ‹∀ 1. {(α630_926'' -> α637_933'') where: α630_926'' <: ((α630_926'',) -> α632_927''), α632_927'' <: ((α631_928'',) -> α633_929''), α621_916' <: ((‹∀ 2. {(α631_931''' -> α633_932''') where: α630_926'' <: ((α630_926'',) -> α632_930'''), α632_930''' <: ((α631_931''',) -> α633_932''')}›,) -> α637_933'')}›  <!<  α630_1050'
//│ ╟── while constraining:  α630_1039'  <!<  α630_1050'
//│ ╟── while constraining:  (α630_1039',)  <!<  (α630_1050',)
//│ ╟── ......
//│ ╟── ......
//│ ╟── while constraining:  α630_925'  <!<  α630_1028'
//│ ╟── while constraining:  (α630_925',)  <!<  (α630_1028',)
//│ ╟── while constraining:  (α630_1028' -> α637_1035')  <!<  ((α630_925',) -> α632_1025')
//│ ╟── while constraining:  {(α630_1028' -> α637_1035') where: α630_1028' <: ((α630_1028',) -> α632_1029'), α632_1029' <: ((α631_1030',) -> α633_1031'), α621_916' <: ((‹∀ 2. {(α631_1033''' -> α633_1034''') where: α630_1028' <: ((α630_1028',) -> α632_1032'''), α632_1032''' <: ((α631_1033''',) -> α633_1034''')}›,) -> α637_1035')}  <!<  ((α630_925',) -> α632_1025')
//│ ╟── while constraining:  ‹∀ 1. {(α630_926'' -> α637_933'') where: α630_926'' <: ((α630_926'',) -> α632_927''), α632_927'' <: ((α631_928'',) -> α633_929''), α621_916' <: ((‹∀ 2. {(α631_931''' -> α633_932''') where: α630_926'' <: ((α630_926'',) -> α632_930'''), α632_930''' <: ((α631_931''',) -> α633_932''')}›,) -> α637_933'')}›  <!<  ((α630_925',) -> α632_1025')
//│ ╟── while constraining:  α630_925'  <!<  ((α630_925',) -> α632_1025')
//│ ╟── while constraining:  {(α631_1026' -> α633_1027') where: α630_925' <: ((α630_925',) -> α632_1025'), α632_1025' <: ((α631_1026',) -> α633_1027')}  <!<  (‘a' -> ‘b')
//│ ╟── while constraining:  ‹∀ 2. {(α631_938''' -> α633_939''') where: α630_925' <: ((α630_925',) -> α632_937'''), α632_937''' <: ((α631_938''',) -> α633_939''')}›  <!<  (‘a' -> ‘b')
//│ ╟── while constraining:  (‹∀ 2. {(α631_938''' -> α633_939''') where: α630_925' <: ((α630_925',) -> α632_937'''), α632_937''' <: ((α631_938''',) -> α633_939''')}›,)  <!<  ((‘a' -> ‘b'),)
//│ ╟── while constraining:  ((‘a' -> ‘b') -> ((‘a' -> ‘b') & ‘c'))  <!<  ((‹∀ 2. {(α631_938''' -> α633_939''') where: α630_925' <: ((α630_925',) -> α632_937'''), α632_937''' <: ((α631_938''',) -> α633_939''')}›,) -> α637_940')
//│ ╟── while constraining:  ((‘a' -> ‘b') -> ((‘a' -> ‘b') & ‘c'))  <!<  α621_916'
//│ ╟── while constraining:  (((‘a' -> ‘b') -> ((‘a' -> ‘b') & ‘c')),)  <!<  (α621_916',)
//│ ╟── while constraining:  (α621_916' -> α646_1021')  <!<  (((‘a' -> ‘b') -> ((‘a' -> ‘b') & ‘c')) -> ‘c')
//│ ╟── while constraining:  ‹∀ 0. (α621' -> α646')›  <!<  (((‘a' -> ‘b') -> ((‘a' -> ‘b') & ‘c')) -> ‘c')
//│ ╙── while constraining:  ‹∀ 0. (α621' -> α646')›  <!<  ‹∀ 0. ((('a21' -> 'b22') -> (('a21' -> 'b22') & 'c23')) -> 'c23')›
//│  = [Function: z2]

