:GeneralizeCurriedFunctions

// type ChurchInt = forall 'N. ('N -> 'N) -> ('N -> 'N)

// :ArgGen

// :d
// :ns
// def s n = fun f -> fun x -> f (n f x)
def s n = fun f -> fun x -> (n f x)
// def s n = fun f -> n f
// def s n = n
//│ s: (nothing -> nothing -> 'a & 'a) -> (forall 'a, 'b. ('b -> (forall 'a, 'b, 'c, 'd. ('c -> 'd
//│   where
//│     'a <: 'b -> 'c -> 'd))
//│   where
//│     'a <: 'b -> nothing -> 'a))
//│  = [Function: s]

def succ: (forall 'N. ('N -> 'N) -> ('N -> 'N)) -> (forall 'M. ('M -> 'M) -> ('M -> 'M))
//│ succ: (forall 'N. ('N -> 'N) -> 'N -> 'N) -> (forall 'M. ('M -> 'M) -> 'M -> 'M)
//│     = <missing implementation>

// :DistributeForalls

// :ns
:e // * Needs distrib (see below)
// :d
succ = s
//│ (nothing -> nothing -> 'a & 'a) -> (forall 'a, 'b. ('b -> (forall 'a, 'b, 'c, 'd. ('c -> 'd
//│   where
//│     'a <: 'b -> 'c -> 'd))
//│   where
//│     'a <: 'b -> nothing -> 'a))
//│   <:  succ:
//│ (forall 'N. ('N -> 'N) -> 'N -> 'N) -> (forall 'M. ('M -> 'M) -> 'M -> 'M)
//│ ╔══[ERROR] Type mismatch in def definition:
//│ ║  l.29: 	succ = s
//│ ║        	^^^^^^^^
//│ ╟── type `‘M134` is not an instance of type `'M`
//│ ║  l.20: 	def succ: (forall 'N. ('N -> 'N) -> ('N -> 'N)) -> (forall 'M. ('M -> 'M) -> ('M -> 'M))
//│ ║        	                                                           ^^
//│ ╟── Note: constraint arises from quantified type variable:
//│ ║  l.20: 	def succ: (forall 'N. ('N -> 'N) -> ('N -> 'N)) -> (forall 'M. ('M -> 'M) -> ('M -> 'M))
//│ ╙──      	                                                           ^^
//│     = [Function: s]



// ==========================================================================


def s n = fun f -> n f
//│ s: (nothing -> 'a & 'a) -> (forall 'a, 'b, 'c. ('b -> 'c
//│   where
//│     'a <: 'b -> 'c))
//│  = [Function: s1]

// def succ: (forall 'N. ('N -> 'N) -> ('N -> 'N)) -> (forall 'M. ('M -> 'M) -> ('M -> 'M))
def succ_min : (forall 'N. ('N -> 'N)) -> (forall 'M. ('M -> 'M))
//│ succ_min: (forall 'N. 'N -> 'N) -> (forall 'M. 'M -> 'M)
//│         = <missing implementation>

// :DistributeForalls

// :ns
:e // * Needs distrib (see below)
:d
succ_min = s
// succ n = s n
// s id : (forall 'M. ('M -> 'M))
//│ 1. Typing term s   None
//│ 1. : ‹∀ 0. ‹∀ 1. (α136'' -> ‹∀ 2. {(α137''' -> α138''') where: α136'' <: ((α137''',) -> α138''')}›)››
//│ ⬤ Typed as: ‹∀ 0. ‹∀ 0. ‹∀ 1. (α136'' -> ‹∀ 2. {(α137''' -> α138''') where: α136'' <: ((α137''',) -> α138''')}›)›››
//│  where: 
//│ 		α136'' <: ((α137_139'',) -> α138_140'')
//│ ⬤ Typed as: ‹∀ 0. (‹∀ 1. ('N152'' -> 'N152'')› -> ‹∀ 1. ('M153'' -> 'M153'')›)›
//│  where: 
//│ (nothing -> 'a & 'a) -> (forall 'a, 'b, 'c. ('b -> 'c
//│   where
//│     'a <: 'b -> 'c))
//│   <:  succ_min:
//│ (forall 'N. 'N -> 'N) -> (forall 'M. 'M -> 'M)
//│ CHECKING SUBSUMPTION...
//│ CONSTRAIN ‹∀ 0. ‹∀ 0. ‹∀ 1. (α136'' -> ‹∀ 2. {(α137''' -> α138''') where: α136'' <: ((α137''',) -> α138''')}›)››› <! ‹∀ 0. (‹∀ 1. ('N152'' -> 'N152'')› -> ‹∀ 1. ('M153'' -> 'M153'')›)›
//│   where 
//│ 		α136'' <: ((α137_139'',) -> α138_140'')
//│ 0. C ‹∀ 0. ‹∀ 0. ‹∀ 1. (α136'' -> ‹∀ 2. {(α137''' -> α138''') where: α136'' <: ((α137''',) -> α138''')}›)››› <! ‹∀ 0. (‹∀ 1. ('N152'' -> 'N152'')› -> ‹∀ 1. ('M153'' -> 'M153'')›)›
//│ | BUMP TO LEVEL 1  -->  (‹∀ 1. ('N152'' -> 'N152'')› -> ‹∀ 1. ('M153'' -> 'M153'')›)
//│ | where 
//│ | 1. C ‹∀ 0. ‹∀ 0. ‹∀ 1. (α136'' -> ‹∀ 2. {(α137''' -> α138''') where: α136'' <: ((α137''',) -> α138''')}›)››› <! (‹∀ 1. ('N152'' -> 'N152'')› -> ‹∀ 1. ('M153'' -> 'M153'')›)
//│ | | 1. C ‹∀ 0. ‹∀ 1. (α136'' -> ‹∀ 2. {(α137''' -> α138''') where: α136'' <: ((α137''',) -> α138''')}›)›› <! (‹∀ 1. ('N152'' -> 'N152'')› -> ‹∀ 1. ('M153'' -> 'M153'')›)
//│ | | | 1. C ‹∀ 1. (α136'' -> ‹∀ 2. {(α137''' -> α138''') where: α136'' <: ((α137''',) -> α138''')}›)› <! (‹∀ 1. ('N152'' -> 'N152'')› -> ‹∀ 1. ('M153'' -> 'M153'')›)
//│ | | | | INST [1]   ‹∀ 1. (α136'' -> ‹∀ 2. {(α137''' -> α138''') where: α136'' <: ((α137''',) -> α138''')}›)›
//│ | | | |   where  
//│ 		α136'' <: ((α137_139'',) -> α138_140'')
//│ | | | | TO [1] ~>  (α136_177' -> ‹∀ 2. {(α137_180''' -> α138_181''') where: α136_177' <: ((α137_180''',) -> α138_181''')}›)
//│ | | | |   where  
//│ 		α136_177' <: ((α137_178',) -> α138_179')
//│ | | | | 1. C (α136_177' -> ‹∀ 2. {(α137_180''' -> α138_181''') where: α136_177' <: ((α137_180''',) -> α138_181''')}›) <! (‹∀ 1. ('N152'' -> 'N152'')› -> ‹∀ 1. ('M153'' -> 'M153'')›)
//│ | | | | | 1. C (‹∀ 1. ('N152'' -> 'N152'')›,) <! (α136_177',)
//│ | | | | | | 1. C ‹∀ 1. ('N152'' -> 'N152'')› <! α136_177'
//│ | | | | | | | NEW α136_177' LB (0)
//│ | | | | | | | 1. C ‹∀ 1. ('N152'' -> 'N152'')› <! ((α137_178',) -> α138_179')
//│ | | | | | | | | 1. C ‹∀ 1. ('N152'' -> 'N152'')› <! ((α137_178',) -> α138_179')
//│ | | | | | | | | | 1. C ‹∀ 1. ('N152'' -> 'N152'')› <! ((α137_178',) -> α138_179')
//│ | | | | | | | | | | INST [1]   ‹∀ 1. ('N152'' -> 'N152'')›
//│ | | | | | | | | | |   where  
//│ | | | | | | | | | | TO [1] ~>  ('N152_182' -> 'N152_182')
//│ | | | | | | | | | |   where  
//│ | | | | | | | | | | 1. C ('N152_182' -> 'N152_182') <! ((α137_178',) -> α138_179')
//│ | | | | | | | | | | | 1. C (α137_178',) <! ('N152_182',)
//│ | | | | | | | | | | | | 1. C (α137_178',) <! ('N152_182',)
//│ | | | | | | | | | | | | | 1. C α137_178' <! 'N152_182'
//│ | | | | | | | | | | | | | | 1. C α137_178' <! 'N152_182'
//│ | | | | | | | | | | | | | | | NEW α137_178' UB (1)
//│ | | | | | | | | | | | 1. C 'N152_182' <! α138_179'
//│ | | | | | | | | | | | | NEW 'N152_182' UB (1)
//│ | | | | | 1. C ‹∀ 2. {(α137_180''' -> α138_181''') where: α136_177' <: ((α137_180''',) -> α138_181''')}› <! ‹∀ 1. ('M153'' -> 'M153'')›
//│ | | | | | | BUMP TO LEVEL 2  -->  (‘M'' -> ‘M'')
//│ | | | | | | where 
//│ | | | | | | 2. C ‹∀ 2. {(α137_180''' -> α138_181''') where: α136_177' <: ((α137_180''',) -> α138_181''')}› <! (‘M'' -> ‘M'')
//│ | | | | | | | INST [2]   ‹∀ 2. {(α137_180''' -> α138_181''') where: α136_177' <: ((α137_180''',) -> α138_181''')}›
//│ | | | | | | |   where  
//│ 		α136_177' :> ‹∀ 1. ('N152'' -> 'N152'')› <: ((α137_178',) -> α138_179')
//│ 		α137_178' <: 'N152_182'
//│ 		'N152_182' <: α138_179'
//│ | | | | | | | TO [2] ~>  {(α137_183'' -> α138_184'') where: α136_177' <: ((α137_183'',) -> α138_184'')}
//│ | | | | | | |   where  
//│ 		α136_177' :> ‹∀ 1. ('N152'' -> 'N152'')› <: ((α137_178',) -> α138_179')
//│ 		α137_178' <: 'N152_182'
//│ 		'N152_182' <: α138_179'
//│ | | | | | | | 2. C {(α137_183'' -> α138_184'') where: α136_177' <: ((α137_183'',) -> α138_184'')} <! (‘M'' -> ‘M'')
//│ | | | | | | | | DISCHARGE CONSTRAINTS
//│ | | | | | | | | | 2. C α136_177' <! ((α137_183'',) -> α138_184'')
//│ | | | | | | | | | | EXTR RHS  ~>  ((α185',) -> α186')  to 1
//│ | | | | | | | | | |  where 
//│ | | | | | | | | | |    and 
//│ 		α137_183'' <: α185'
//│ 		α138_184'' :> α186'
//│ | | | | | | | | | | 2. C α136_177' <! ((α185',) -> α186')
//│ | | | | | | | | | | | NEW α136_177' UB (1)
//│ | | | | | | | | | | | 2. C ‹∀ 1. ('N152'' -> 'N152'')› <! ((α185',) -> α186')
//│ | | | | | | | | | | | | INST [1]   ‹∀ 1. ('N152'' -> 'N152'')›
//│ | | | | | | | | | | | |   where  
//│ | | | | | | | | | | | | TO [2] ~>  ('N152_187'' -> 'N152_187'')
//│ | | | | | | | | | | | |   where  
//│ | | | | | | | | | | | | 2. C ('N152_187'' -> 'N152_187'') <! ((α185',) -> α186')
//│ | | | | | | | | | | | | | 2. C (α185',) <! ('N152_187'',)
//│ | | | | | | | | | | | | | | 2. C (α185',) <! ('N152_187'',)
//│ | | | | | | | | | | | | | | | 2. C α185' <! 'N152_187''
//│ | | | | | | | | | | | | | | | | 2. C α185' <! 'N152_187''
//│ | | | | | | | | | | | | | | | | | NEW 'N152_187'' LB (1)
//│ | | | | | | | | | | | | | 2. C 'N152_187'' <! α186'
//│ | | | | | | | | | | | | | | NEW 'N152_187'' UB (1)
//│ | | | | | | | | | | | | | | 2. C α185' <! α186'
//│ | | | | | | | | | | | | | | | NEW α185' UB (1)
//│ | | | | | | | | 2. C (α137_183'' -> α138_184'') <! (‘M'' -> ‘M'')
//│ | | | | | | | | | 2. C (‘M'',) <! (α137_183'',)
//│ | | | | | | | | | | 2. C ‘M'' <! α137_183''
//│ | | | | | | | | | | | NEW α137_183'' LB (2)
//│ | | | | | | | | | | | 2. C ‘M'' <! α185'
//│ | | | | | | | | | | | | EXTR LHS  ~>  ‘M188'  to 1
//│ | | | | | | | | | | | |  where 
//│ | | | | | | | | | | | |    and 
//│ | | | | | | | | | | | | 2. C ‘M188' <! α185'
//│ | | | | | | | | | | | | | NEW α185' LB (1)
//│ | | | | | | | | | | | | | 2. C ‘M188' <! α186'
//│ | | | | | | | | | | | | | | NEW α186' LB (1)
//│ | | | | | | | | | 2. C α138_184'' <! ‘M''
//│ | | | | | | | | | | NEW α138_184'' UB (2)
//│ | | | | | | | | | | 2. C α186' <! ‘M''
//│ | | | | | | | | | | | EXTR RHS  ~>  ‹∀ 1. 'M189''›  to 1
//│ | | | | | | | | | | |  where 
//│ | | | | | | | | | | |    and 
//│ | | | | | | | | | | | 2. C α186' <! ‹∀ 1. 'M189''›
//│ | | | | | | | | | | | | NEW α186' UB (0)
//│ | | | | | | | | | | | | 2. C ‘M188' <! ‹∀ 1. 'M189''›
//│ | | | | | | | | | | | | | BUMP TO LEVEL 3  -->  ‘M'''
//│ | | | | | | | | | | | | | where 
//│ | | | | | | | | | | | | | 3. C ‘M188' <! ‘M'''
//│ | | | | | | | | | | | | | | CONSTRAINT FAILURE: ‘M188' <: ‘M'''
//│ | | | | | | | | | | | | | | allVarPols: 
//│ | | | | | | | | | | | | | | norm[+] ‘M188'
//│ | | | | | | | | | | | | | | | DNF: DNF(1024, {}∧‘M188')
//│ | | | | | | | | | | | | | | ~> ‘M188'
//│ ╔══[ERROR] Type mismatch in def definition:
//│ ║  l.69: 	succ_min = s
//│ ║        	^^^^^^^^^^^^
//│ ╟── type `‘M188` is not an instance of type `'M`
//│ ║  l.60: 	def succ_min : (forall 'N. ('N -> 'N)) -> (forall 'M. ('M -> 'M))
//│ ║        	                                                  ^^
//│ ╟── Note: constraint arises from quantified type variable:
//│ ║  l.60: 	def succ_min : (forall 'N. ('N -> 'N)) -> (forall 'M. ('M -> 'M))
//│ ╙──      	                                                  ^^
//│         = [Function: s1]



