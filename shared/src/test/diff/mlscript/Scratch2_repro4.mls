:GeneralizeCurriedFunctions

// type ChurchInt = forall 'N. ('N -> 'N) -> ('N -> 'N)

// :ArgGen

// :d
// :ns
// def s n = fun f -> fun x -> f (n f x)
def s n = fun f -> fun x -> (n f x)
// def s n = fun f -> n f
// def s n = n
//│ s: 'a -> (forall 'b. 'b -> (forall 'c. 'c -> (forall 'a, 'b, 'c, 'd. ('d
//│   where
//│     'a <: 'b -> 'c -> 'd))))
//│  = [Function: s]

def succ: (forall 'N. ('N -> 'N) -> ('N -> 'N)) -> (forall 'M. ('M -> 'M) -> ('M -> 'M))
//│ succ: (forall 'N. ('N -> 'N) -> 'N -> 'N) -> (forall 'M. ('M -> 'M) -> 'M -> 'M)
//│     = <missing implementation>

// :DistributeForalls

// :ns
// :e // * Needs distrib (see below)
// :d
succ = s
//│ 'a -> (forall 'b. 'b -> (forall 'c. 'c -> (forall 'a, 'b, 'c, 'd. ('d
//│   where
//│     'a <: 'b -> 'c -> 'd))))
//│   <:  succ:
//│ (forall 'N. ('N -> 'N) -> 'N -> 'N) -> (forall 'M. ('M -> 'M) -> 'M -> 'M)
//│     = [Function: s]



// ==========================================================================


def s n = fun f -> n f
//│ s: 'a -> (forall 'b. 'b -> (forall 'a, 'b, 'c. ('c
//│   where
//│     'a <: 'b -> 'c)))
//│  = [Function: s1]

// def succ: (forall 'N. ('N -> 'N) -> ('N -> 'N)) -> (forall 'M. ('M -> 'M) -> ('M -> 'M))
def succ_min : (forall 'N. ('N -> 'N)) -> (forall 'M. ('M -> 'M))
//│ succ_min: (forall 'N. 'N -> 'N) -> (forall 'M. 'M -> 'M)
//│         = <missing implementation>

// :DistributeForalls

// :ns
// :e // * Needs distrib (see below)
:d
succ_min = s
// succ n = s n
// s id : (forall 'M. ('M -> 'M))
//│ 1. Typing term s   None
//│ 1. : ‹∀ 0. ‹∀ 1. (α93'' -> ‹∀ 3. (α94'''' -> ‹∀ 4. {α95''''' where: α93'' <: ((α94'''',) -> α95''''')}›)›)››
//│ ⬤ Typed as: ‹∀ 0. ‹∀ 0. ‹∀ 1. (α93'' -> ‹∀ 3. (α94'''' -> ‹∀ 4. {α95''''' where: α93'' <: ((α94'''',) -> α95''''')}›)›)›››
//│  where: 
//│ ⬤ Typed as: ‹∀ 0. (‹∀ 1. ('N105'' -> 'N105'')› -> ‹∀ 1. ('M106'' -> 'M106'')›)›
//│  where: 
//│ 'a -> (forall 'b. 'b -> (forall 'a, 'b, 'c. ('c
//│   where
//│     'a <: 'b -> 'c)))
//│   <:  succ_min:
//│ (forall 'N. 'N -> 'N) -> (forall 'M. 'M -> 'M)
//│ CHECKING SUBSUMPTION...
//│ CONSTRAIN ‹∀ 0. ‹∀ 0. ‹∀ 1. (α93'' -> ‹∀ 3. (α94'''' -> ‹∀ 4. {α95''''' where: α93'' <: ((α94'''',) -> α95''''')}›)›)››› <! ‹∀ 0. (‹∀ 1. ('N105'' -> 'N105'')› -> ‹∀ 1. ('M106'' -> 'M106'')›)›
//│   where 
//│ 0. C ‹∀ 0. ‹∀ 0. ‹∀ 1. (α93'' -> ‹∀ 3. (α94'''' -> ‹∀ 4. {α95''''' where: α93'' <: ((α94'''',) -> α95''''')}›)›)››› <! ‹∀ 0. (‹∀ 1. ('N105'' -> 'N105'')› -> ‹∀ 1. ('M106'' -> 'M106'')›)›
//│ | BUMP TO LEVEL 1  -->  (‹∀ 1. ('N105'' -> 'N105'')› -> ‹∀ 1. ('M106'' -> 'M106'')›)
//│ | where 
//│ | 1. C ‹∀ 0. ‹∀ 0. ‹∀ 1. (α93'' -> ‹∀ 3. (α94'''' -> ‹∀ 4. {α95''''' where: α93'' <: ((α94'''',) -> α95''''')}›)›)››› <! (‹∀ 1. ('N105'' -> 'N105'')› -> ‹∀ 1. ('M106'' -> 'M106'')›)
//│ | | 1. C ‹∀ 0. ‹∀ 1. (α93'' -> ‹∀ 3. (α94'''' -> ‹∀ 4. {α95''''' where: α93'' <: ((α94'''',) -> α95''''')}›)›)›› <! (‹∀ 1. ('N105'' -> 'N105'')› -> ‹∀ 1. ('M106'' -> 'M106'')›)
//│ | | | 1. C ‹∀ 1. (α93'' -> ‹∀ 3. (α94'''' -> ‹∀ 4. {α95''''' where: α93'' <: ((α94'''',) -> α95''''')}›)›)› <! (‹∀ 1. ('N105'' -> 'N105'')› -> ‹∀ 1. ('M106'' -> 'M106'')›)
//│ | | | | INST [1]   ‹∀ 1. (α93'' -> ‹∀ 3. (α94'''' -> ‹∀ 4. {α95''''' where: α93'' <: ((α94'''',) -> α95''''')}›)›)›
//│ | | | |   where  
//│ | | | | TO [1] ~>  (α93_128' -> ‹∀ 3. (α94_129'''' -> ‹∀ 4. {α95_130''''' where: α93_128' <: ((α94_129'''',) -> α95_130''''')}›)›)
//│ | | | |   where  
//│ | | | | 1. C (α93_128' -> ‹∀ 3. (α94_129'''' -> ‹∀ 4. {α95_130''''' where: α93_128' <: ((α94_129'''',) -> α95_130''''')}›)›) <! (‹∀ 1. ('N105'' -> 'N105'')› -> ‹∀ 1. ('M106'' -> 'M106'')›)
//│ | | | | | 1. C (‹∀ 1. ('N105'' -> 'N105'')›,) <! (α93_128',)
//│ | | | | | | 1. C ‹∀ 1. ('N105'' -> 'N105'')› <! α93_128'
//│ | | | | | | | NEW α93_128' LB (0)
//│ | | | | | 1. C ‹∀ 3. (α94_129'''' -> ‹∀ 4. {α95_130''''' where: α93_128' <: ((α94_129'''',) -> α95_130''''')}›)› <! ‹∀ 1. ('M106'' -> 'M106'')›
//│ | | | | | | BUMP TO LEVEL 2  -->  (‘M'' -> ‘M'')
//│ | | | | | | where 
//│ | | | | | | 2. C ‹∀ 3. (α94_129'''' -> ‹∀ 4. {α95_130''''' where: α93_128' <: ((α94_129'''',) -> α95_130''''')}›)› <! (‘M'' -> ‘M'')
//│ | | | | | | | INST [3]   ‹∀ 3. (α94_129'''' -> ‹∀ 4. {α95_130''''' where: α93_128' <: ((α94_129'''',) -> α95_130''''')}›)›
//│ | | | | | | |   where  
//│ 		α93_128' :> ‹∀ 1. ('N105'' -> 'N105'')›
//│ | | | | | | | TO [2] ~>  (α94_131'' -> ‹∀ 4. {α95_132''''' where: α93_128' <: ((α94_131'',) -> α95_132''''')}›)
//│ | | | | | | |   where  
//│ 		α93_128' :> ‹∀ 1. ('N105'' -> 'N105'')›
//│ | | | | | | | 2. C (α94_131'' -> ‹∀ 4. {α95_132''''' where: α93_128' <: ((α94_131'',) -> α95_132''''')}›) <! (‘M'' -> ‘M'')
//│ | | | | | | | | 2. C (‘M'',) <! (α94_131'',)
//│ | | | | | | | | | 2. C ‘M'' <! α94_131''
//│ | | | | | | | | | | NEW α94_131'' LB (2)
//│ | | | | | | | | 2. C ‹∀ 4. {α95_132''''' where: α93_128' <: ((α94_131'',) -> α95_132''''')}› <! ‘M''
//│ | | | | | | | | | INST [4]   ‹∀ 4. {α95_132''''' where: α93_128' <: ((α94_131'',) -> α95_132''''')}›
//│ | | | | | | | | |   where  
//│ 		α93_128' :> ‹∀ 1. ('N105'' -> 'N105'')›
//│ 		α94_131'' :> ‘M''
//│ | | | | | | | | | TO [2] ~>  {α95_133'' where: α93_128' <: ((α94_131'',) -> α95_133'')}
//│ | | | | | | | | |   where  
//│ 		α93_128' :> ‹∀ 1. ('N105'' -> 'N105'')›
//│ 		α94_131'' :> ‘M''
//│ | | | | | | | | | 2. C {α95_133'' where: α93_128' <: ((α94_131'',) -> α95_133'')} <! ‘M''
//│ | | | | | | | | | | DISCHARGE CONSTRAINTS
//│ | | | | | | | | | | | 2. C α93_128' <! ((α94_131'',) -> α95_133'')
//│ | | | | | | | | | | | | EXTR RHS  ~>  ((α134',) -> α136')  to 1
//│ | | | | | | | | | | | |  where 
//│ 		α134' :> 'M135''
//│ | | | | | | | | | | | |    and 
//│ 		α94_131'' :> ‘M'' <: α134'
//│ 		α95_133'' :> α136'
//│ 		α134' :> 'M135''
//│ | | | | | | | | | | | | 2. C α93_128' <! ((α134',) -> α136')
//│ | | | | | | | | | | | | | NEW α93_128' UB (1)
//│ | | | | | | | | | | | | | 2. C ‹∀ 1. ('N105'' -> 'N105'')› <! ((α134',) -> α136')
//│ | | | | | | | | | | | | | | INST [1]   ‹∀ 1. ('N105'' -> 'N105'')›
//│ | | | | | | | | | | | | | |   where  
//│ | | | | | | | | | | | | | | TO [2] ~>  ('N105_137'' -> 'N105_137'')
//│ | | | | | | | | | | | | | |   where  
//│ | | | | | | | | | | | | | | 2. C ('N105_137'' -> 'N105_137'') <! ((α134',) -> α136')
//│ | | | | | | | | | | | | | | | 2. C (α134',) <! ('N105_137'',)
//│ | | | | | | | | | | | | | | | | 2. C (α134',) <! ('N105_137'',)
//│ | | | | | | | | | | | | | | | | | 2. C α134' <! 'N105_137''
//│ | | | | | | | | | | | | | | | | | | 2. C α134' <! 'N105_137''
//│ | | | | | | | | | | | | | | | | | | | NEW 'N105_137'' LB (1)
//│ | | | | | | | | | | | | | | | 2. C 'N105_137'' <! α136'
//│ | | | | | | | | | | | | | | | | NEW 'N105_137'' UB (1)
//│ | | | | | | | | | | | | | | | | 2. C α134' <! α136'
//│ | | | | | | | | | | | | | | | | | NEW α134' UB (1)
//│ | | | | | | | | | | | | | | | | | 2. C 'M135'' <! α136'
//│ | | | | | | | | | | | | | | | | | | NEW 'M135'' UB (1)
//│ | | | | | | | | | | 2. C α95_133'' <! ‘M''
//│ | | | | | | | | | | | NEW α95_133'' UB (2)
//│ | | | | | | | | | | | 2. C α136' <! ‘M''
//│ | | | | | | | | | | | | EXTR RHS  ~>  ‹∀ 1. 'M138''›  to 1
//│ | | | | | | | | | | | |  where 
//│ | | | | | | | | | | | |    and 
//│ | | | | | | | | | | | | 2. C α136' <! ‹∀ 1. 'M138''›
//│ | | | | | | | | | | | | | NEW α136' UB (0)
//│         = [Function: s1]



