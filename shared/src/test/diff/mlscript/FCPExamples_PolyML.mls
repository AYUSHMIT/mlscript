:GeneralizeCurriedFunctions

// ============ Sec 1.1 ============

// i.e. auto
g = fun (f: forall 'a. 'a -> 'a) -> f f
g' = fun f -> f f
//│ g: (forall 'a. 'a -> 'a) -> (forall 'a. 'a -> 'a)
//│  = [Function: g]
//│ g': ('a -> 'b & 'a) -> 'b
//│   = [Function: g]

// i.e. auto id (FreezeML F5)
(fun (f: forall 'a. 'a -> 'a) -> f f) (fun x -> x)
(fun f -> f f) (fun x -> x)
//│ res: 'a -> 'a
//│    = [Function (anonymous)]
//│ res: 'a -> 'a
//│    = [Function (anonymous)]

// i.e. (fun auto -> auto id) auto
(fun g -> g (fun x -> x)) (fun f -> f f)
(fun g -> g (fun x -> x)) (fun (f: forall 'a. 'a -> 'a) -> f f)
//│ res: 'a -> 'a
//│    = [Function (anonymous)]
//│ res: 'a -> 'a
//│    = [Function (anonymous)]

// ============ Sec 1.2 ============

fun f -> f (g f)
fun f -> f (g' f)
//│ res: ((forall 'a. 'a -> 'a) -> 'b & 'a -> 'a) -> 'b
//│    = [Function: res]
//│ res: ('a -> 'b & 'c -> 'a & 'c) -> 'b
//│    = [Function: res]

// ============ Sec 4.1 ============

let f = fun x -> x in 
  let g = (fun x -> x) f in
    g g
//│ res: 'a -> 'a
//│    = [Function (anonymous)]

:NoJS

// ============ Sec 4.2 ============
// using FCP to solve method typing issues,
// which is overkill since it can be solved with subtyping and two levels of polymorphism...
// all of the following are typable in the main branch

// ------------ Dummy classes to represent the types in the examples ------------

class List[a]
  method Get: a
//│ Defined class List[+a]
//│ Declared List.Get: List['a] -> 'a

// Used to represent `::` in the papers
def cons[a]: a -> List[a] -> List[a]
//│ cons: 'a -> List['a] -> List['a]

// Used to represent `[]` in the papers
def nil: List['a]
//│ nil: List[nothing]

def match_list: forall 'a 'b. List['a] -> 'b -> ('a -> List['a] -> 'b) -> 'b
//│ match_list: List['a] -> 'b -> ('a -> List['a] -> 'b) -> 'b

// ------------ Type signatures for functions used in the examples ------------
// (I guess)

def mem[a]: a -> List[a] -> bool
rec def mem x l = match_list l false (fun head -> fun tail -> if eq head x then true else mem x tail)
//│ mem: anything -> List[?] -> bool
//│ anything -> (forall 'a, 'b. (List['a] -> (false | true | 'b)
//│   where
//│     'c <: List['a] -> 'b))
//│   <:  mem:
//│ anything -> List[?] -> bool
//│ ╔══[ERROR] Subtyping constraint of the form `forall ?c, ?d, ?e, ?f, ?g, ?h, ?i, ?j, ?k, ?l, ?m, ?n, ?o, ?p, ?q, ?r, ?s, ?t, ?u, ?v, ?w, ?x, ?y, ?z, ?a1, ?b1, ?c1, ?d1, ?e1, ?f1, ?g1, ?h1, ?i1, ?j1, ?k1, ?l1, ?m1, ?n1, ?o1, ?p1, ?q1, ?r1, ?s1, ?t1, ?u1, ?v1, ?w1, ?x1, ?y1, ?z1, ?a2, ?b2, ?c2, ?d2, ?e2, ?f2, ?g2, ?h2, ?i2, ?j2, ?k2, ?l2, ?m2, ?n2, ?o2, ?p2, ?q2, ?r2, ?s2, ?t2, ?u2, ?v2, ?w2, ?x2, ?y2, ?z2, ?a3, ?b3, ?c3, ?mem, ?d3, ?e3, ?f3, ?g3, ?a, ?h3, ?i3, ?j3, ?b, ?k3, ?l3, ?a0, ?m3, ?n3, ?o3, ?b0, ?p3, ?q3, ?a1, ?r3, ?s3, ?t3, ?b1, ?u3, ?v3, ?a2, ?w3, ?x3, ?y3, ?b2, ?z3, ?a4, ?a3, ?b4, ?c4, ?d4, ?b3, ?e4, ?f4, ?a4, ?g4, ?h4, ?i4, ?b4, ?j4, ?k4, ?a5, ?l4, ?m4, ?n4, ?b5, ?o4, ?p4, ?a6, ?q4, ?r4, ?s4, ?b6, ?t4, ?u4, ?a7, ?v4, ?w4, ?x4, ?b7, ?y4, ?z4, ?a8, ?a5, ?b5, ?c5, ?b8, ?d5, ?e5, ?a9, ?f5, ?g5, ?h5, ?b9, ?i5, ?j5, ?a10, ?k5, ?l5, ?m5, ?b10, ?n5, ?o5, ?a11, ?p5, ?q5, ?r5, ?b11, ?s5, ?t5, ?a12, ?u5, ?v5, ?w5, ?b12, ?x5, ?y5, ?a13, ?z5, ?a6, ?b6, ?b13, ?c6, ?d6, ?a14, ?e6, ?f6, ?g6, ?b14, ?h6, ?i6, ?a15, ?j6, ?k6, ?l6, ?b15, ?m6, ?n6, ?a16, ?o6, ?p6, ?q6, ?b16, ?r6, ?s6, ?a17, ?t6, ?u6, ?v6, ?b17, ?w6, ?x6, ?a18, ?y6, ?z6, ?a7, ?b18, ?b7, ?c7, ?a19, ?d7, ?e7, ?f7, ?b19, ?g7, ?h7, ?a20, ?i7, ?j7, ?k7, ?b20, ?l7, ?m7, ?a21, ?n7, ?o7, ?p7, ?b21, ?q7, ?r7, ?a22, ?s7, ?t7, ?u7, ?b22, ?v7, ?w7, ?a23, ?x7, ?y7, ?z7, ?b23, ?a8, ?b8, ?a24, ?c8, ?d8, ?e8, ?b24, ?f8, ?g8, ?a25, ?h8, ?i8, ?j8, ?b25, ?k8, ?l8, ?a26, ?m8, ?n8, ?o8, ?b26, ?p8, ?q8, ?a27, ?r8, ?s8, ?t8, ?b27, ?u8, ?v8, ?a28, ?w8, ?x8, ?y8, ?b28, ?z8, ?a9, ?a29, ?b9, ?c9, ?d9, ?b29, ?e9, ?f9, ?a30, ?g9, ?h9, ?i9, ?b30, ?j9, ?k9, ?a31, ?l9, ?m9, ?n9, ?b31, ?o9, ?p9, ?a32, ?q9, ?r9, ?s9, ?b32, ?t9, ?u9, ?a33, ?v9, ?w9, ?x9, ?b33, ?y9, ?z9, ?a34, ?a10, ?b10, ?c10, ?b34, ?d10, ?e10, ?a35, ?f10, ?g10, ?h10, ?b35, ?i10, ?j10, ?a36, ?k10, ?l10, ?m10, ?b36, ?n10, ?o10, ?a37, ?p10, ?q10, ?r10, ?b37, ?s10, ?t10, ?a38, ?u10, ?v10, ?w10, ?b38, ?x10, ?y10, ?a39, ?z10, ?a11, ?b11, ?b39, ?c11, ?d11, ?a40, ?e11, ?f11, ?g11, ?b40, ?h11, ?i11, ?a41, ?j11, ?k11, ?l11, ?b41, ?m11, ?n11, ?a42, ?o11, ?p11, ?q11, ?b42, ?r11, ?s11, ?a43, ?t11, ?u11, ?v11, ?b43, ?w11, ?x11, ?a44, ?y11, ?z11, ?a12, ?b44, ?b12, ?c12, ?a45, ?d12, ?e12, ?f12, ?b45, ?g12, ?h12, ?a46, ?i12, ?j12, ?k12, ?b46, ?l12, ?m12, ?a47, ?n12, ?o12, ?p12, ?b47, ?q12, ?r12, ?a48, ?s12, ?t12, ?u12, ?b48, ?v12, ?w12, ?a49, ?x12, ?y12, ?z12, ?b49, ?a13, ?b13, ?a50, ?c13, ?d13, ?e13, ?b50, ?f13, ?g13, ?a51, ?h13, ?i13, ?j13, ?b51, ?k13, ?l13, ?a52, ?m13, ?n13, ?o13, ?b52, ?p13, ?q13, ?a53, ?r13, ?s13, ?t13, ?b53, ?u13, ?v13, ?a54, ?w13, ?x13, ?y13, ?b54, ?z13, ?a14, ?a55, ?b14, ?c14, ?d14, ?b55, ?e14, ?f14, ?a56, ?g14, ?h14, ?i14, ?b56, ?j14, ?k14, ?a57, ?l14, ?m14, ?n14, ?b57, ?o14, ?p14, ?a58, ?q14, ?r14, ?s14, ?b58, ?t14, ?u14, ?a59, ?v14, ?w14, ?x14, ?b59, ?y14, ?z14, ?a60, ?a15, ?b15, ?c15, ?b60, ?d15, ?e15, ?a61, ?f15, ?g15, ?h15, ?b61, ?i15, ?j15, ?a62, ?k15, ?l15, ?m15, ?b62, ?n15, ?o15, ?a63, ?p15, ?q15, ?r15, ?b63, ?s15, ?t15, ?a64, ?u15, ?v15, ?w15, ?b64, ?x15, ?y15, ?a65, ?z15, ?a16, ?b16, ?b65, ?c16, ?d16, ?a66, ?e16, ?f16, ?g16, ?b66, ?h16, ?i16, ?a67, ?j16, ?k16, ?l16, ?b67, ?m16, ?n16, ?a68, ?o16, ?p16, ?q16, ?b68, ?r16, ?s16, ?a69, ?t16, ?u16, ?v16, ?b69, ?w16, ?x16, ?a70, ?y16, ?z16, ?a17, ?b70, ?b17, ?c17, ?a71, ?d17, ?e17, ?f17, ?b71, ?g17, ?h17, ?a72, ?i17, ?j17, ?k17, ?b72, ?l17, ?m17, ?a73, ?n17, ?o17, ?p17, ?b73, ?q17, ?r17, ?a74, ?s17, ?t17, ?u17, ?b74, ?v17, ?w17, ?a75, ?x17, ?y17, ?z17, ?b75, ?a18, ?b18, ?a76, ?c18, ?d18, ?e18, ?b76, ?f18, ?g18, ?a77, ?h18, ?i18, ?j18, ?b77, ?k18. ?mem <: forall ?l18. ?l18 -> List[?l18] -> bool` exceeded recursion depth limit (400)
//│ ║  l.75: 	rec def mem x l = match_list l false (fun head -> fun tail -> if eq head x then true else mem x tail)
//│ ║        	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α911',) -> α914')
//│ ╟── while constraining:  α170'  <!<  ((α911',) -> α914')
//│ ╟── while constraining:  {(α919' -> α918') where: α170' <: ((α911',) -> α914')}  <!<  ((α902',) -> α905')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α902',) -> α905')
//│ ╟── while constraining:  α170'  <!<  ((α902',) -> α905')
//│ ╟── while constraining:  {(α910' -> α909') where: α170' <: ((α902',) -> α905')}  <!<  ((α893',) -> α896')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α893',) -> α896')
//│ ╟── while constraining:  α170'  <!<  ((α893',) -> α896')
//│ ╟── while constraining:  {(α901' -> α900') where: α170' <: ((α893',) -> α896')}  <!<  ((α884',) -> α887')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α884',) -> α887')
//│ ╟── while constraining:  α170'  <!<  ((α884',) -> α887')
//│ ╟── while constraining:  {(α892' -> α891') where: α170' <: ((α884',) -> α887')}  <!<  ((α875',) -> α878')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α875',) -> α878')
//│ ╟── while constraining:  α170'  <!<  ((α875',) -> α878')
//│ ╟── while constraining:  {(α883' -> α882') where: α170' <: ((α875',) -> α878')}  <!<  ((α866',) -> α869')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α866',) -> α869')
//│ ╟── while constraining:  α170'  <!<  ((α866',) -> α869')
//│ ╟── while constraining:  {(α874' -> α873') where: α170' <: ((α866',) -> α869')}  <!<  ((α857',) -> α860')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α857',) -> α860')
//│ ╟── while constraining:  α170'  <!<  ((α857',) -> α860')
//│ ╟── while constraining:  {(α865' -> α864') where: α170' <: ((α857',) -> α860')}  <!<  ((α848',) -> α851')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α848',) -> α851')
//│ ╟── while constraining:  α170'  <!<  ((α848',) -> α851')
//│ ╟── while constraining:  {(α856' -> α855') where: α170' <: ((α848',) -> α851')}  <!<  ((α839',) -> α842')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α839',) -> α842')
//│ ╟── while constraining:  α170'  <!<  ((α839',) -> α842')
//│ ╟── while constraining:  {(α847' -> α846') where: α170' <: ((α839',) -> α842')}  <!<  ((α830',) -> α833')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α830',) -> α833')
//│ ╟── while constraining:  α170'  <!<  ((α830',) -> α833')
//│ ╟── while constraining:  {(α838' -> α837') where: α170' <: ((α830',) -> α833')}  <!<  ((α821',) -> α824')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α821',) -> α824')
//│ ╟── while constraining:  α170'  <!<  ((α821',) -> α824')
//│ ╟── while constraining:  {(α829' -> α828') where: α170' <: ((α821',) -> α824')}  <!<  ((α812',) -> α815')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α812',) -> α815')
//│ ╟── while constraining:  α170'  <!<  ((α812',) -> α815')
//│ ╟── while constraining:  {(α820' -> α819') where: α170' <: ((α812',) -> α815')}  <!<  ((α803',) -> α806')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α803',) -> α806')
//│ ╟── while constraining:  α170'  <!<  ((α803',) -> α806')
//│ ╟── while constraining:  {(α811' -> α810') where: α170' <: ((α803',) -> α806')}  <!<  ((α794',) -> α797')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α794',) -> α797')
//│ ╟── while constraining:  α170'  <!<  ((α794',) -> α797')
//│ ╟── while constraining:  {(α802' -> α801') where: α170' <: ((α794',) -> α797')}  <!<  ((α785',) -> α788')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α785',) -> α788')
//│ ╟── while constraining:  α170'  <!<  ((α785',) -> α788')
//│ ╟── while constraining:  {(α793' -> α792') where: α170' <: ((α785',) -> α788')}  <!<  ((α776',) -> α779')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α776',) -> α779')
//│ ╟── while constraining:  α170'  <!<  ((α776',) -> α779')
//│ ╟── while constraining:  {(α784' -> α783') where: α170' <: ((α776',) -> α779')}  <!<  ((α767',) -> α770')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α767',) -> α770')
//│ ╟── while constraining:  α170'  <!<  ((α767',) -> α770')
//│ ╟── while constraining:  {(α775' -> α774') where: α170' <: ((α767',) -> α770')}  <!<  ((α758',) -> α761')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α758',) -> α761')
//│ ╟── while constraining:  α170'  <!<  ((α758',) -> α761')
//│ ╟── while constraining:  {(α766' -> α765') where: α170' <: ((α758',) -> α761')}  <!<  ((α749',) -> α752')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α749',) -> α752')
//│ ╟── while constraining:  α170'  <!<  ((α749',) -> α752')
//│ ╟── while constraining:  {(α757' -> α756') where: α170' <: ((α749',) -> α752')}  <!<  ((α740',) -> α743')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α740',) -> α743')
//│ ╟── while constraining:  α170'  <!<  ((α740',) -> α743')
//│ ╟── while constraining:  {(α748' -> α747') where: α170' <: ((α740',) -> α743')}  <!<  ((α731',) -> α734')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α731',) -> α734')
//│ ╟── while constraining:  α170'  <!<  ((α731',) -> α734')
//│ ╟── while constraining:  {(α739' -> α738') where: α170' <: ((α731',) -> α734')}  <!<  ((α722',) -> α725')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α722',) -> α725')
//│ ╟── while constraining:  α170'  <!<  ((α722',) -> α725')
//│ ╟── while constraining:  {(α730' -> α729') where: α170' <: ((α722',) -> α725')}  <!<  ((α713',) -> α716')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α713',) -> α716')
//│ ╟── while constraining:  α170'  <!<  ((α713',) -> α716')
//│ ╟── while constraining:  {(α721' -> α720') where: α170' <: ((α713',) -> α716')}  <!<  ((α704',) -> α707')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α704',) -> α707')
//│ ╟── while constraining:  α170'  <!<  ((α704',) -> α707')
//│ ╟── while constraining:  {(α712' -> α711') where: α170' <: ((α704',) -> α707')}  <!<  ((α695',) -> α698')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α695',) -> α698')
//│ ╟── while constraining:  α170'  <!<  ((α695',) -> α698')
//│ ╟── while constraining:  {(α703' -> α702') where: α170' <: ((α695',) -> α698')}  <!<  ((α686',) -> α689')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α686',) -> α689')
//│ ╟── while constraining:  α170'  <!<  ((α686',) -> α689')
//│ ╟── while constraining:  {(α694' -> α693') where: α170' <: ((α686',) -> α689')}  <!<  ((α677',) -> α680')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α677',) -> α680')
//│ ╟── while constraining:  α170'  <!<  ((α677',) -> α680')
//│ ╟── while constraining:  {(α685' -> α684') where: α170' <: ((α677',) -> α680')}  <!<  ((α668',) -> α671')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α668',) -> α671')
//│ ╟── while constraining:  α170'  <!<  ((α668',) -> α671')
//│ ╟── while constraining:  {(α676' -> α675') where: α170' <: ((α668',) -> α671')}  <!<  ((α659',) -> α662')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α659',) -> α662')
//│ ╟── while constraining:  α170'  <!<  ((α659',) -> α662')
//│ ╟── while constraining:  {(α667' -> α666') where: α170' <: ((α659',) -> α662')}  <!<  ((α650',) -> α653')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α650',) -> α653')
//│ ╟── while constraining:  α170'  <!<  ((α650',) -> α653')
//│ ╟── while constraining:  {(α658' -> α657') where: α170' <: ((α650',) -> α653')}  <!<  ((α641',) -> α644')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α641',) -> α644')
//│ ╟── while constraining:  α170'  <!<  ((α641',) -> α644')
//│ ╟── while constraining:  {(α649' -> α648') where: α170' <: ((α641',) -> α644')}  <!<  ((α632',) -> α635')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α632',) -> α635')
//│ ╟── while constraining:  α170'  <!<  ((α632',) -> α635')
//│ ╟── while constraining:  {(α640' -> α639') where: α170' <: ((α632',) -> α635')}  <!<  ((α623',) -> α626')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α623',) -> α626')
//│ ╟── while constraining:  α170'  <!<  ((α623',) -> α626')
//│ ╟── while constraining:  {(α631' -> α630') where: α170' <: ((α623',) -> α626')}  <!<  ((α614',) -> α617')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α614',) -> α617')
//│ ╟── while constraining:  α170'  <!<  ((α614',) -> α617')
//│ ╟── while constraining:  {(α622' -> α621') where: α170' <: ((α614',) -> α617')}  <!<  ((α605',) -> α608')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α605',) -> α608')
//│ ╟── while constraining:  α170'  <!<  ((α605',) -> α608')
//│ ╟── while constraining:  {(α613' -> α612') where: α170' <: ((α605',) -> α608')}  <!<  ((α596',) -> α599')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α596',) -> α599')
//│ ╟── while constraining:  α170'  <!<  ((α596',) -> α599')
//│ ╟── while constraining:  {(α604' -> α603') where: α170' <: ((α596',) -> α599')}  <!<  ((α587',) -> α590')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α587',) -> α590')
//│ ╟── while constraining:  α170'  <!<  ((α587',) -> α590')
//│ ╟── while constraining:  {(α595' -> α594') where: α170' <: ((α587',) -> α590')}  <!<  ((α578',) -> α581')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α578',) -> α581')
//│ ╟── while constraining:  α170'  <!<  ((α578',) -> α581')
//│ ╟── while constraining:  {(α586' -> α585') where: α170' <: ((α578',) -> α581')}  <!<  ((α569',) -> α572')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α569',) -> α572')
//│ ╟── while constraining:  α170'  <!<  ((α569',) -> α572')
//│ ╟── while constraining:  {(α577' -> α576') where: α170' <: ((α569',) -> α572')}  <!<  ((α560',) -> α563')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α560',) -> α563')
//│ ╟── while constraining:  α170'  <!<  ((α560',) -> α563')
//│ ╟── while constraining:  {(α568' -> α567') where: α170' <: ((α560',) -> α563')}  <!<  ((α551',) -> α554')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α551',) -> α554')
//│ ╟── while constraining:  α170'  <!<  ((α551',) -> α554')
//│ ╟── while constraining:  {(α559' -> α558') where: α170' <: ((α551',) -> α554')}  <!<  ((α542',) -> α545')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α542',) -> α545')
//│ ╟── while constraining:  α170'  <!<  ((α542',) -> α545')
//│ ╟── while constraining:  {(α550' -> α549') where: α170' <: ((α542',) -> α545')}  <!<  ((α533',) -> α536')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α533',) -> α536')
//│ ╟── while constraining:  α170'  <!<  ((α533',) -> α536')
//│ ╟── while constraining:  {(α541' -> α540') where: α170' <: ((α533',) -> α536')}  <!<  ((α524',) -> α527')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α524',) -> α527')
//│ ╟── while constraining:  α170'  <!<  ((α524',) -> α527')
//│ ╟── while constraining:  {(α532' -> α531') where: α170' <: ((α524',) -> α527')}  <!<  ((α515',) -> α518')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α515',) -> α518')
//│ ╟── while constraining:  α170'  <!<  ((α515',) -> α518')
//│ ╟── while constraining:  {(α523' -> α522') where: α170' <: ((α515',) -> α518')}  <!<  ((α506',) -> α509')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α506',) -> α509')
//│ ╟── while constraining:  α170'  <!<  ((α506',) -> α509')
//│ ╟── while constraining:  {(α514' -> α513') where: α170' <: ((α506',) -> α509')}  <!<  ((α497',) -> α500')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α497',) -> α500')
//│ ╟── while constraining:  α170'  <!<  ((α497',) -> α500')
//│ ╟── while constraining:  {(α505' -> α504') where: α170' <: ((α497',) -> α500')}  <!<  ((α488',) -> α491')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α488',) -> α491')
//│ ╟── while constraining:  α170'  <!<  ((α488',) -> α491')
//│ ╟── while constraining:  {(α496' -> α495') where: α170' <: ((α488',) -> α491')}  <!<  ((α479',) -> α482')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α479',) -> α482')
//│ ╟── while constraining:  α170'  <!<  ((α479',) -> α482')
//│ ╟── while constraining:  {(α487' -> α486') where: α170' <: ((α479',) -> α482')}  <!<  ((α470',) -> α473')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α470',) -> α473')
//│ ╟── while constraining:  α170'  <!<  ((α470',) -> α473')
//│ ╟── while constraining:  {(α478' -> α477') where: α170' <: ((α470',) -> α473')}  <!<  ((α461',) -> α464')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α461',) -> α464')
//│ ╟── while constraining:  α170'  <!<  ((α461',) -> α464')
//│ ╟── while constraining:  {(α469' -> α468') where: α170' <: ((α461',) -> α464')}  <!<  ((α452',) -> α455')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α452',) -> α455')
//│ ╟── while constraining:  α170'  <!<  ((α452',) -> α455')
//│ ╟── while constraining:  {(α460' -> α459') where: α170' <: ((α452',) -> α455')}  <!<  ((α443',) -> α446')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α443',) -> α446')
//│ ╟── while constraining:  α170'  <!<  ((α443',) -> α446')
//│ ╟── while constraining:  {(α451' -> α450') where: α170' <: ((α443',) -> α446')}  <!<  ((α434',) -> α437')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α434',) -> α437')
//│ ╟── while constraining:  α170'  <!<  ((α434',) -> α437')
//│ ╟── while constraining:  {(α442' -> α441') where: α170' <: ((α434',) -> α437')}  <!<  ((α425',) -> α428')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α425',) -> α428')
//│ ╟── while constraining:  α170'  <!<  ((α425',) -> α428')
//│ ╟── while constraining:  {(α433' -> α432') where: α170' <: ((α425',) -> α428')}  <!<  ((α416',) -> α419')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α416',) -> α419')
//│ ╟── while constraining:  α170'  <!<  ((α416',) -> α419')
//│ ╟── while constraining:  {(α424' -> α423') where: α170' <: ((α416',) -> α419')}  <!<  ((α407',) -> α410')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α407',) -> α410')
//│ ╟── while constraining:  α170'  <!<  ((α407',) -> α410')
//│ ╟── while constraining:  {(α415' -> α414') where: α170' <: ((α407',) -> α410')}  <!<  ((α398',) -> α401')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α398',) -> α401')
//│ ╟── while constraining:  α170'  <!<  ((α398',) -> α401')
//│ ╟── while constraining:  {(α406' -> α405') where: α170' <: ((α398',) -> α401')}  <!<  ((α389',) -> α392')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α389',) -> α392')
//│ ╟── while constraining:  α170'  <!<  ((α389',) -> α392')
//│ ╟── while constraining:  {(α397' -> α396') where: α170' <: ((α389',) -> α392')}  <!<  ((α380',) -> α383')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α380',) -> α383')
//│ ╟── while constraining:  α170'  <!<  ((α380',) -> α383')
//│ ╟── while constraining:  {(α388' -> α387') where: α170' <: ((α380',) -> α383')}  <!<  ((α371',) -> α374')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α371',) -> α374')
//│ ╟── while constraining:  α170'  <!<  ((α371',) -> α374')
//│ ╟── while constraining:  {(α379' -> α378') where: α170' <: ((α371',) -> α374')}  <!<  ((α362',) -> α365')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α362',) -> α365')
//│ ╟── while constraining:  α170'  <!<  ((α362',) -> α365')
//│ ╟── while constraining:  {(α370' -> α369') where: α170' <: ((α362',) -> α365')}  <!<  ((α353',) -> α356')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α353',) -> α356')
//│ ╟── while constraining:  α170'  <!<  ((α353',) -> α356')
//│ ╟── while constraining:  {(α361' -> α360') where: α170' <: ((α353',) -> α356')}  <!<  ((α344',) -> α347')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α344',) -> α347')
//│ ╟── while constraining:  α170'  <!<  ((α344',) -> α347')
//│ ╟── while constraining:  {(α352' -> α351') where: α170' <: ((α344',) -> α347')}  <!<  ((α335',) -> α338')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α335',) -> α338')
//│ ╟── while constraining:  α170'  <!<  ((α335',) -> α338')
//│ ╟── while constraining:  {(α343' -> α342') where: α170' <: ((α335',) -> α338')}  <!<  ((α326',) -> α329')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α326',) -> α329')
//│ ╟── while constraining:  α170'  <!<  ((α326',) -> α329')
//│ ╟── while constraining:  {(α334' -> α333') where: α170' <: ((α326',) -> α329')}  <!<  ((α317',) -> α320')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α317',) -> α320')
//│ ╟── while constraining:  α170'  <!<  ((α317',) -> α320')
//│ ╟── while constraining:  {(α325' -> α324') where: α170' <: ((α317',) -> α320')}  <!<  ((α308',) -> α311')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α308',) -> α311')
//│ ╟── while constraining:  α170'  <!<  ((α308',) -> α311')
//│ ╟── while constraining:  {(α316' -> α315') where: α170' <: ((α308',) -> α311')}  <!<  ((α299',) -> α302')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α299',) -> α302')
//│ ╟── while constraining:  α170'  <!<  ((α299',) -> α302')
//│ ╟── while constraining:  {(α307' -> α306') where: α170' <: ((α299',) -> α302')}  <!<  ((α290',) -> α293')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α290',) -> α293')
//│ ╟── while constraining:  α170'  <!<  ((α290',) -> α293')
//│ ╟── while constraining:  {(α298' -> α297') where: α170' <: ((α290',) -> α293')}  <!<  ((α281',) -> α284')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α281',) -> α284')
//│ ╟── while constraining:  α170'  <!<  ((α281',) -> α284')
//│ ╟── while constraining:  {(α289' -> α288') where: α170' <: ((α281',) -> α284')}  <!<  ((α272',) -> α275')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α272',) -> α275')
//│ ╟── while constraining:  α170'  <!<  ((α272',) -> α275')
//│ ╟── while constraining:  {(α280' -> α279') where: α170' <: ((α272',) -> α275')}  <!<  ((α263',) -> α266')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α263',) -> α266')
//│ ╟── while constraining:  α170'  <!<  ((α263',) -> α266')
//│ ╟── while constraining:  {(α271' -> α270') where: α170' <: ((α263',) -> α266')}  <!<  ((α254',) -> α257')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α254',) -> α257')
//│ ╟── while constraining:  α170'  <!<  ((α254',) -> α257')
//│ ╟── while constraining:  {(α262' -> α261') where: α170' <: ((α254',) -> α257')}  <!<  ((α245',) -> α248')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α245',) -> α248')
//│ ╟── while constraining:  α170'  <!<  ((α245',) -> α248')
//│ ╟── while constraining:  {(α253' -> α252') where: α170' <: ((α245',) -> α248')}  <!<  ((α236',) -> α239')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α236',) -> α239')
//│ ╟── while constraining:  α170'  <!<  ((α236',) -> α239')
//│ ╟── while constraining:  {(α244' -> α243') where: α170' <: ((α236',) -> α239')}  <!<  ((α227',) -> α230')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α227',) -> α230')
//│ ╟── while constraining:  α170'  <!<  ((α227',) -> α230')
//│ ╟── while constraining:  {(α235' -> α234') where: α170' <: ((α227',) -> α230')}  <!<  ((α218',) -> α221')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α218',) -> α221')
//│ ╟── while constraining:  α170'  <!<  ((α218',) -> α221')
//│ ╟── while constraining:  {(α226' -> α225') where: α170' <: ((α218',) -> α221')}  <!<  ((α209',) -> α212')
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  ((α209',) -> α212')
//│ ╟── while constraining:  α170'  <!<  ((α209',) -> α212')
//│ ╟── while constraining:  {(α217' -> α216') where: α170' <: ((α209',) -> α212')}  <!<  (List[_α202''] -> Bool)
//│ ╟── while constraining:  ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›  <!<  (List[_α202''] -> Bool)
//│ ╟── while constraining:  (α208' -> ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›)  <!<  (_α202'' -> (List[_α202''] -> Bool))
//│ ╟── while constraining:  ‹∀ 1. (α204'' -> ‹∀ 2. {(α155''' -> α173''') where: α170' <: ((α175''',) -> α176''')}›)›  <!<  (_α202'' -> (List[_α202''] -> Bool))
//│ ╟── while constraining:  mem203'  <!<  (_α202'' -> (List[_α202''] -> Bool))
//│ ╟── while constraining:  ‹∀ 0. mem153'›  <!<  (_α202'' -> (List[_α202''] -> Bool))
//│ ╙── while constraining:  ‹∀ 0. mem153'›  <!<  ‹∀ 0. (α151' -> (List[α151'] -> Bool))›




// def fold_left[a, b]: (a -> b -> a) -> a -> List[b] -> a
def fold_left: forall 'a 'b. ('a -> 'b -> 'a) -> 'a -> List['b] -> 'a
//│ fold_left: ('a -> 'b -> 'a) -> 'a -> List['b] -> 'a

rec def fl f x l = match_list l x (fun head -> fun tail -> fl f (f x head) tail)
//│ fl: 'b -> (forall 'c. 'c -> (forall 'c, 'd, 'a, 'e. (List['a] -> ('c | 'e)
//│   where
//│     'f <: 'd -> List['a] -> 'e
//│     'b <: 'c -> 'a -> 'd)))

rec def fl2 f x l = match_list l x (fun head -> fun tail -> fold_left f (f x head) tail)
//│ fl2: 'c -> (forall 'd. 'd -> (forall 'd, 'a, 'b. (List['b] -> ('a | 'd)
//│   where
//│     'c <: ('a | 'd) -> 'b -> 'a & 'd -> 'b -> 'a)))

// :d
def fold_left = fl
//│ 'b -> (forall 'c. 'c -> (forall 'c, 'd, 'a, 'e. (List['a] -> ('c | 'e)
//│   where
//│     'f <: 'd -> List['a] -> 'e
//│     'b <: 'c -> 'a -> 'd)))
//│   <:  fold_left:
//│ ('a -> 'b -> 'a) -> 'a -> List['b] -> 'a
//│ ╔══[ERROR] Subtyping constraint of the form `forall ?c, ?a, ?d, ?e, ?f, ?a0, ?g, ?h, ?i, ?a1, ?j, ?k, ?l, ?a2, ?m, ?n, ?o, ?a3, ?p, ?q, ?r, ?a4, ?s, ?t, ?u, ?a5, ?v, ?w, ?x, ?a6, ?y, ?z, ?a1, ?a7, ?b1, ?c1, ?d1, ?a8, ?e1, ?f1, ?g1, ?a9, ?h1, ?i1, ?j1, ?a10, ?k1, ?l1, ?m1, ?a11, ?n1, ?o1, ?p1, ?a12, ?q1, ?r1, ?s1, ?a13, ?t1, ?u1, ?v1, ?a14, ?w1, ?x1, ?y1, ?a15, ?z1, ?a2, ?b2, ?a16, ?c2, ?d2, ?e2, ?a17, ?f2, ?g2, ?h2, ?a18, ?i2, ?j2, ?k2, ?a19, ?l2, ?m2, ?n2, ?a20, ?o2, ?p2, ?q2, ?a21, ?r2, ?s2, ?t2, ?a22, ?u2, ?v2, ?w2, ?a23, ?x2, ?y2, ?z2, ?a24, ?a3, ?b3, ?c3, ?a25, ?d3, ?e3, ?f3, ?a26, ?g3, ?h3, ?i3, ?a27, ?j3, ?k3, ?l3, ?a28, ?m3, ?n3, ?fl, ?o3, ?p3, ?q3, ?r3, ?s3, ?t3, ?u3, ?b, ?v3, ?w3, ?x3, ?y3, ?b0, ?z3, ?a4, ?b4, ?c4, ?b1, ?d4, ?e4, ?f4, ?g4, ?b2, ?h4, ?i4, ?j4, ?k4, ?b3, ?l4, ?m4, ?n4, ?o4, ?b4, ?p4, ?q4, ?r4, ?s4, ?b5, ?t4, ?u4, ?v4, ?w4, ?b6, ?x4, ?y4, ?z4, ?a5, ?b7, ?b5, ?c5, ?d5, ?e5, ?b8, ?f5, ?g5, ?h5, ?i5, ?b9, ?j5, ?k5, ?l5, ?m5, ?b10, ?n5, ?o5, ?p5, ?q5, ?b11, ?r5, ?s5, ?t5, ?u5, ?b12, ?v5, ?w5, ?x5, ?y5, ?b13, ?z5, ?a6, ?b6, ?c6, ?b14, ?d6, ?e6, ?f6, ?g6, ?b15, ?h6, ?i6, ?j6, ?k6, ?b16, ?l6, ?m6, ?n6, ?o6, ?b17, ?p6, ?q6, ?r6, ?s6, ?b18, ?t6, ?u6, ?v6, ?w6, ?b19, ?x6, ?y6, ?z6, ?a7, ?b20, ?b7, ?c7, ?d7, ?e7, ?b21, ?f7, ?g7, ?h7, ?i7, ?b22, ?j7, ?k7, ?l7, ?m7, ?b23, ?n7, ?o7, ?p7, ?q7, ?b24, ?r7, ?s7, ?t7, ?u7, ?b25, ?v7, ?w7, ?x7, ?y7, ?b26, ?z7, ?a8, ?b8, ?c8, ?b27, ?d8, ?e8, ?f8, ?g8, ?b28. ?fl <: forall ?a29, ?b29. (?a29 -> ?b29 -> ?a29) -> ?a29 -> List[?b29] -> ?a29` exceeded recursion depth limit (400)
//│ ║  l.348: 	def fold_left = fl
//│ ║         	^^^^^^^^^^^^^^^^^^
//│ ╟── while constraining:  ‹∀ 3. {(α2798'''' -> α2795'''') where: α1506' <: ((α2779'''',) -> α2789''''), α2796' <: ((α2794',) -> α2797'''')}›  <!<  ((α2773',) -> α2775')
//│ ╟── while constraining:  ‹∀ 3. {(α2798'''' -> α2795'''') where: α1506' <: ((α2779'''',) -> α2789''''), α2796' <: ((α2794',) -> α2797'''')}›  <!<  α2772'
//│ ╟── while constraining:  ‹∀ 3. {(α2788'''' -> α2786'''') where: α1506' <: ((α2779'''',) -> α2780''''), α1495'' <: ((α2778'',) -> α2787'''')}›  <!<  α2772'
//│ ╟── while constraining:  (α2778'' -> ‹∀ 3. {(α2788'''' -> α2786'''') where: α1506' <: ((α2779'''',) -> α2780''''), α1495'' <: ((α2778'',) -> α2787'''')}›)  <!<  ((α2771',) -> α2772')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2771',) -> α2772')
//│ ╟── while constraining:  α1506'  <!<  ((α2771',) -> α2772')
//│ ╟── while constraining:  α1506'  <!<  ((α2761'',) -> α2762'')
//│ ╟── while constraining:  {(α2770'' -> α2768'') where: α1506' <: ((α2761'',) -> α2762''), α2758' <: ((α2756',) -> α2769'')}  <!<  ((α2735',) -> α2737')
//│ ╟── while constraining:  ‹∀ 3. {(α2760'''' -> α2757'''') where: α1506' <: ((α2741'''',) -> α2751''''), α2758' <: ((α2756',) -> α2759'''')}›  <!<  ((α2735',) -> α2737')
//│ ╟── while constraining:  ‹∀ 3. {(α2760'''' -> α2757'''') where: α1506' <: ((α2741'''',) -> α2751''''), α2758' <: ((α2756',) -> α2759'''')}›  <!<  α2734'
//│ ╟── while constraining:  ‹∀ 3. {(α2750'''' -> α2748'''') where: α1506' <: ((α2741'''',) -> α2742''''), α1495'' <: ((α2740'',) -> α2749'''')}›  <!<  α2734'
//│ ╟── while constraining:  (α2740'' -> ‹∀ 3. {(α2750'''' -> α2748'''') where: α1506' <: ((α2741'''',) -> α2742''''), α1495'' <: ((α2740'',) -> α2749'''')}›)  <!<  ((α2733',) -> α2734')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2733',) -> α2734')
//│ ╟── while constraining:  α1506'  <!<  ((α2733',) -> α2734')
//│ ╟── while constraining:  α1506'  <!<  ((α2723'',) -> α2724'')
//│ ╟── while constraining:  {(α2732'' -> α2730'') where: α1506' <: ((α2723'',) -> α2724''), α2720' <: ((α2718',) -> α2731'')}  <!<  ((α2697',) -> α2699')
//│ ╟── while constraining:  ‹∀ 3. {(α2722'''' -> α2719'''') where: α1506' <: ((α2703'''',) -> α2713''''), α2720' <: ((α2718',) -> α2721'''')}›  <!<  ((α2697',) -> α2699')
//│ ╟── while constraining:  ‹∀ 3. {(α2722'''' -> α2719'''') where: α1506' <: ((α2703'''',) -> α2713''''), α2720' <: ((α2718',) -> α2721'''')}›  <!<  α2696'
//│ ╟── while constraining:  ‹∀ 3. {(α2712'''' -> α2710'''') where: α1506' <: ((α2703'''',) -> α2704''''), α1495'' <: ((α2702'',) -> α2711'''')}›  <!<  α2696'
//│ ╟── while constraining:  (α2702'' -> ‹∀ 3. {(α2712'''' -> α2710'''') where: α1506' <: ((α2703'''',) -> α2704''''), α1495'' <: ((α2702'',) -> α2711'''')}›)  <!<  ((α2695',) -> α2696')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2695',) -> α2696')
//│ ╟── while constraining:  α1506'  <!<  ((α2695',) -> α2696')
//│ ╟── while constraining:  α1506'  <!<  ((α2685'',) -> α2686'')
//│ ╟── while constraining:  {(α2694'' -> α2692'') where: α1506' <: ((α2685'',) -> α2686''), α2682' <: ((α2680',) -> α2693'')}  <!<  ((α2659',) -> α2661')
//│ ╟── while constraining:  ‹∀ 3. {(α2684'''' -> α2681'''') where: α1506' <: ((α2665'''',) -> α2675''''), α2682' <: ((α2680',) -> α2683'''')}›  <!<  ((α2659',) -> α2661')
//│ ╟── while constraining:  ‹∀ 3. {(α2684'''' -> α2681'''') where: α1506' <: ((α2665'''',) -> α2675''''), α2682' <: ((α2680',) -> α2683'''')}›  <!<  α2658'
//│ ╟── while constraining:  ‹∀ 3. {(α2674'''' -> α2672'''') where: α1506' <: ((α2665'''',) -> α2666''''), α1495'' <: ((α2664'',) -> α2673'''')}›  <!<  α2658'
//│ ╟── while constraining:  (α2664'' -> ‹∀ 3. {(α2674'''' -> α2672'''') where: α1506' <: ((α2665'''',) -> α2666''''), α1495'' <: ((α2664'',) -> α2673'''')}›)  <!<  ((α2657',) -> α2658')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2657',) -> α2658')
//│ ╟── while constraining:  α1506'  <!<  ((α2657',) -> α2658')
//│ ╟── while constraining:  α1506'  <!<  ((α2647'',) -> α2648'')
//│ ╟── while constraining:  {(α2656'' -> α2654'') where: α1506' <: ((α2647'',) -> α2648''), α2644' <: ((α2642',) -> α2655'')}  <!<  ((α2621',) -> α2623')
//│ ╟── while constraining:  ‹∀ 3. {(α2646'''' -> α2643'''') where: α1506' <: ((α2627'''',) -> α2637''''), α2644' <: ((α2642',) -> α2645'''')}›  <!<  ((α2621',) -> α2623')
//│ ╟── while constraining:  ‹∀ 3. {(α2646'''' -> α2643'''') where: α1506' <: ((α2627'''',) -> α2637''''), α2644' <: ((α2642',) -> α2645'''')}›  <!<  α2620'
//│ ╟── while constraining:  ‹∀ 3. {(α2636'''' -> α2634'''') where: α1506' <: ((α2627'''',) -> α2628''''), α1495'' <: ((α2626'',) -> α2635'''')}›  <!<  α2620'
//│ ╟── while constraining:  (α2626'' -> ‹∀ 3. {(α2636'''' -> α2634'''') where: α1506' <: ((α2627'''',) -> α2628''''), α1495'' <: ((α2626'',) -> α2635'''')}›)  <!<  ((α2619',) -> α2620')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2619',) -> α2620')
//│ ╟── while constraining:  α1506'  <!<  ((α2619',) -> α2620')
//│ ╟── while constraining:  α1506'  <!<  ((α2609'',) -> α2610'')
//│ ╟── while constraining:  {(α2618'' -> α2616'') where: α1506' <: ((α2609'',) -> α2610''), α2606' <: ((α2604',) -> α2617'')}  <!<  ((α2583',) -> α2585')
//│ ╟── while constraining:  ‹∀ 3. {(α2608'''' -> α2605'''') where: α1506' <: ((α2589'''',) -> α2599''''), α2606' <: ((α2604',) -> α2607'''')}›  <!<  ((α2583',) -> α2585')
//│ ╟── while constraining:  ‹∀ 3. {(α2608'''' -> α2605'''') where: α1506' <: ((α2589'''',) -> α2599''''), α2606' <: ((α2604',) -> α2607'''')}›  <!<  α2582'
//│ ╟── while constraining:  ‹∀ 3. {(α2598'''' -> α2596'''') where: α1506' <: ((α2589'''',) -> α2590''''), α1495'' <: ((α2588'',) -> α2597'''')}›  <!<  α2582'
//│ ╟── while constraining:  (α2588'' -> ‹∀ 3. {(α2598'''' -> α2596'''') where: α1506' <: ((α2589'''',) -> α2590''''), α1495'' <: ((α2588'',) -> α2597'''')}›)  <!<  ((α2581',) -> α2582')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2581',) -> α2582')
//│ ╟── while constraining:  α1506'  <!<  ((α2581',) -> α2582')
//│ ╟── while constraining:  α1506'  <!<  ((α2571'',) -> α2572'')
//│ ╟── while constraining:  {(α2580'' -> α2578'') where: α1506' <: ((α2571'',) -> α2572''), α2568' <: ((α2566',) -> α2579'')}  <!<  ((α2545',) -> α2547')
//│ ╟── while constraining:  ‹∀ 3. {(α2570'''' -> α2567'''') where: α1506' <: ((α2551'''',) -> α2561''''), α2568' <: ((α2566',) -> α2569'''')}›  <!<  ((α2545',) -> α2547')
//│ ╟── while constraining:  ‹∀ 3. {(α2570'''' -> α2567'''') where: α1506' <: ((α2551'''',) -> α2561''''), α2568' <: ((α2566',) -> α2569'''')}›  <!<  α2544'
//│ ╟── while constraining:  ‹∀ 3. {(α2560'''' -> α2558'''') where: α1506' <: ((α2551'''',) -> α2552''''), α1495'' <: ((α2550'',) -> α2559'''')}›  <!<  α2544'
//│ ╟── while constraining:  (α2550'' -> ‹∀ 3. {(α2560'''' -> α2558'''') where: α1506' <: ((α2551'''',) -> α2552''''), α1495'' <: ((α2550'',) -> α2559'''')}›)  <!<  ((α2543',) -> α2544')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2543',) -> α2544')
//│ ╟── while constraining:  α1506'  <!<  ((α2543',) -> α2544')
//│ ╟── while constraining:  α1506'  <!<  ((α2533'',) -> α2534'')
//│ ╟── while constraining:  {(α2542'' -> α2540'') where: α1506' <: ((α2533'',) -> α2534''), α2530' <: ((α2528',) -> α2541'')}  <!<  ((α2507',) -> α2509')
//│ ╟── while constraining:  ‹∀ 3. {(α2532'''' -> α2529'''') where: α1506' <: ((α2513'''',) -> α2523''''), α2530' <: ((α2528',) -> α2531'''')}›  <!<  ((α2507',) -> α2509')
//│ ╟── while constraining:  ‹∀ 3. {(α2532'''' -> α2529'''') where: α1506' <: ((α2513'''',) -> α2523''''), α2530' <: ((α2528',) -> α2531'''')}›  <!<  α2506'
//│ ╟── while constraining:  ‹∀ 3. {(α2522'''' -> α2520'''') where: α1506' <: ((α2513'''',) -> α2514''''), α1495'' <: ((α2512'',) -> α2521'''')}›  <!<  α2506'
//│ ╟── while constraining:  (α2512'' -> ‹∀ 3. {(α2522'''' -> α2520'''') where: α1506' <: ((α2513'''',) -> α2514''''), α1495'' <: ((α2512'',) -> α2521'''')}›)  <!<  ((α2505',) -> α2506')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2505',) -> α2506')
//│ ╟── while constraining:  α1506'  <!<  ((α2505',) -> α2506')
//│ ╟── while constraining:  α1506'  <!<  ((α2495'',) -> α2496'')
//│ ╟── while constraining:  {(α2504'' -> α2502'') where: α1506' <: ((α2495'',) -> α2496''), α2492' <: ((α2490',) -> α2503'')}  <!<  ((α2469',) -> α2471')
//│ ╟── while constraining:  ‹∀ 3. {(α2494'''' -> α2491'''') where: α1506' <: ((α2475'''',) -> α2485''''), α2492' <: ((α2490',) -> α2493'''')}›  <!<  ((α2469',) -> α2471')
//│ ╟── while constraining:  ‹∀ 3. {(α2494'''' -> α2491'''') where: α1506' <: ((α2475'''',) -> α2485''''), α2492' <: ((α2490',) -> α2493'''')}›  <!<  α2468'
//│ ╟── while constraining:  ‹∀ 3. {(α2484'''' -> α2482'''') where: α1506' <: ((α2475'''',) -> α2476''''), α1495'' <: ((α2474'',) -> α2483'''')}›  <!<  α2468'
//│ ╟── while constraining:  (α2474'' -> ‹∀ 3. {(α2484'''' -> α2482'''') where: α1506' <: ((α2475'''',) -> α2476''''), α1495'' <: ((α2474'',) -> α2483'''')}›)  <!<  ((α2467',) -> α2468')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2467',) -> α2468')
//│ ╟── while constraining:  α1506'  <!<  ((α2467',) -> α2468')
//│ ╟── while constraining:  α1506'  <!<  ((α2457'',) -> α2458'')
//│ ╟── while constraining:  {(α2466'' -> α2464'') where: α1506' <: ((α2457'',) -> α2458''), α2454' <: ((α2452',) -> α2465'')}  <!<  ((α2431',) -> α2433')
//│ ╟── while constraining:  ‹∀ 3. {(α2456'''' -> α2453'''') where: α1506' <: ((α2437'''',) -> α2447''''), α2454' <: ((α2452',) -> α2455'''')}›  <!<  ((α2431',) -> α2433')
//│ ╟── while constraining:  ‹∀ 3. {(α2456'''' -> α2453'''') where: α1506' <: ((α2437'''',) -> α2447''''), α2454' <: ((α2452',) -> α2455'''')}›  <!<  α2430'
//│ ╟── while constraining:  ‹∀ 3. {(α2446'''' -> α2444'''') where: α1506' <: ((α2437'''',) -> α2438''''), α1495'' <: ((α2436'',) -> α2445'''')}›  <!<  α2430'
//│ ╟── while constraining:  (α2436'' -> ‹∀ 3. {(α2446'''' -> α2444'''') where: α1506' <: ((α2437'''',) -> α2438''''), α1495'' <: ((α2436'',) -> α2445'''')}›)  <!<  ((α2429',) -> α2430')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2429',) -> α2430')
//│ ╟── while constraining:  α1506'  <!<  ((α2429',) -> α2430')
//│ ╟── while constraining:  α1506'  <!<  ((α2419'',) -> α2420'')
//│ ╟── while constraining:  {(α2428'' -> α2426'') where: α1506' <: ((α2419'',) -> α2420''), α2416' <: ((α2414',) -> α2427'')}  <!<  ((α2393',) -> α2395')
//│ ╟── while constraining:  ‹∀ 3. {(α2418'''' -> α2415'''') where: α1506' <: ((α2399'''',) -> α2409''''), α2416' <: ((α2414',) -> α2417'''')}›  <!<  ((α2393',) -> α2395')
//│ ╟── while constraining:  ‹∀ 3. {(α2418'''' -> α2415'''') where: α1506' <: ((α2399'''',) -> α2409''''), α2416' <: ((α2414',) -> α2417'''')}›  <!<  α2392'
//│ ╟── while constraining:  ‹∀ 3. {(α2408'''' -> α2406'''') where: α1506' <: ((α2399'''',) -> α2400''''), α1495'' <: ((α2398'',) -> α2407'''')}›  <!<  α2392'
//│ ╟── while constraining:  (α2398'' -> ‹∀ 3. {(α2408'''' -> α2406'''') where: α1506' <: ((α2399'''',) -> α2400''''), α1495'' <: ((α2398'',) -> α2407'''')}›)  <!<  ((α2391',) -> α2392')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2391',) -> α2392')
//│ ╟── while constraining:  α1506'  <!<  ((α2391',) -> α2392')
//│ ╟── while constraining:  α1506'  <!<  ((α2381'',) -> α2382'')
//│ ╟── while constraining:  {(α2390'' -> α2388'') where: α1506' <: ((α2381'',) -> α2382''), α2378' <: ((α2376',) -> α2389'')}  <!<  ((α2355',) -> α2357')
//│ ╟── while constraining:  ‹∀ 3. {(α2380'''' -> α2377'''') where: α1506' <: ((α2361'''',) -> α2371''''), α2378' <: ((α2376',) -> α2379'''')}›  <!<  ((α2355',) -> α2357')
//│ ╟── while constraining:  ‹∀ 3. {(α2380'''' -> α2377'''') where: α1506' <: ((α2361'''',) -> α2371''''), α2378' <: ((α2376',) -> α2379'''')}›  <!<  α2354'
//│ ╟── while constraining:  ‹∀ 3. {(α2370'''' -> α2368'''') where: α1506' <: ((α2361'''',) -> α2362''''), α1495'' <: ((α2360'',) -> α2369'''')}›  <!<  α2354'
//│ ╟── while constraining:  (α2360'' -> ‹∀ 3. {(α2370'''' -> α2368'''') where: α1506' <: ((α2361'''',) -> α2362''''), α1495'' <: ((α2360'',) -> α2369'''')}›)  <!<  ((α2353',) -> α2354')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2353',) -> α2354')
//│ ╟── while constraining:  α1506'  <!<  ((α2353',) -> α2354')
//│ ╟── while constraining:  α1506'  <!<  ((α2343'',) -> α2344'')
//│ ╟── while constraining:  {(α2352'' -> α2350'') where: α1506' <: ((α2343'',) -> α2344''), α2340' <: ((α2338',) -> α2351'')}  <!<  ((α2317',) -> α2319')
//│ ╟── while constraining:  ‹∀ 3. {(α2342'''' -> α2339'''') where: α1506' <: ((α2323'''',) -> α2333''''), α2340' <: ((α2338',) -> α2341'''')}›  <!<  ((α2317',) -> α2319')
//│ ╟── while constraining:  ‹∀ 3. {(α2342'''' -> α2339'''') where: α1506' <: ((α2323'''',) -> α2333''''), α2340' <: ((α2338',) -> α2341'''')}›  <!<  α2316'
//│ ╟── while constraining:  ‹∀ 3. {(α2332'''' -> α2330'''') where: α1506' <: ((α2323'''',) -> α2324''''), α1495'' <: ((α2322'',) -> α2331'''')}›  <!<  α2316'
//│ ╟── while constraining:  (α2322'' -> ‹∀ 3. {(α2332'''' -> α2330'''') where: α1506' <: ((α2323'''',) -> α2324''''), α1495'' <: ((α2322'',) -> α2331'''')}›)  <!<  ((α2315',) -> α2316')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2315',) -> α2316')
//│ ╟── while constraining:  α1506'  <!<  ((α2315',) -> α2316')
//│ ╟── while constraining:  α1506'  <!<  ((α2305'',) -> α2306'')
//│ ╟── while constraining:  {(α2314'' -> α2312'') where: α1506' <: ((α2305'',) -> α2306''), α2302' <: ((α2300',) -> α2313'')}  <!<  ((α2279',) -> α2281')
//│ ╟── while constraining:  ‹∀ 3. {(α2304'''' -> α2301'''') where: α1506' <: ((α2285'''',) -> α2295''''), α2302' <: ((α2300',) -> α2303'''')}›  <!<  ((α2279',) -> α2281')
//│ ╟── while constraining:  ‹∀ 3. {(α2304'''' -> α2301'''') where: α1506' <: ((α2285'''',) -> α2295''''), α2302' <: ((α2300',) -> α2303'''')}›  <!<  α2278'
//│ ╟── while constraining:  ‹∀ 3. {(α2294'''' -> α2292'''') where: α1506' <: ((α2285'''',) -> α2286''''), α1495'' <: ((α2284'',) -> α2293'''')}›  <!<  α2278'
//│ ╟── while constraining:  (α2284'' -> ‹∀ 3. {(α2294'''' -> α2292'''') where: α1506' <: ((α2285'''',) -> α2286''''), α1495'' <: ((α2284'',) -> α2293'''')}›)  <!<  ((α2277',) -> α2278')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2277',) -> α2278')
//│ ╟── while constraining:  α1506'  <!<  ((α2277',) -> α2278')
//│ ╟── while constraining:  α1506'  <!<  ((α2267'',) -> α2268'')
//│ ╟── while constraining:  {(α2276'' -> α2274'') where: α1506' <: ((α2267'',) -> α2268''), α2264' <: ((α2262',) -> α2275'')}  <!<  ((α2241',) -> α2243')
//│ ╟── while constraining:  ‹∀ 3. {(α2266'''' -> α2263'''') where: α1506' <: ((α2247'''',) -> α2257''''), α2264' <: ((α2262',) -> α2265'''')}›  <!<  ((α2241',) -> α2243')
//│ ╟── while constraining:  ‹∀ 3. {(α2266'''' -> α2263'''') where: α1506' <: ((α2247'''',) -> α2257''''), α2264' <: ((α2262',) -> α2265'''')}›  <!<  α2240'
//│ ╟── while constraining:  ‹∀ 3. {(α2256'''' -> α2254'''') where: α1506' <: ((α2247'''',) -> α2248''''), α1495'' <: ((α2246'',) -> α2255'''')}›  <!<  α2240'
//│ ╟── while constraining:  (α2246'' -> ‹∀ 3. {(α2256'''' -> α2254'''') where: α1506' <: ((α2247'''',) -> α2248''''), α1495'' <: ((α2246'',) -> α2255'''')}›)  <!<  ((α2239',) -> α2240')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2239',) -> α2240')
//│ ╟── while constraining:  α1506'  <!<  ((α2239',) -> α2240')
//│ ╟── while constraining:  α1506'  <!<  ((α2229'',) -> α2230'')
//│ ╟── while constraining:  {(α2238'' -> α2236'') where: α1506' <: ((α2229'',) -> α2230''), α2226' <: ((α2224',) -> α2237'')}  <!<  ((α2203',) -> α2205')
//│ ╟── while constraining:  ‹∀ 3. {(α2228'''' -> α2225'''') where: α1506' <: ((α2209'''',) -> α2219''''), α2226' <: ((α2224',) -> α2227'''')}›  <!<  ((α2203',) -> α2205')
//│ ╟── while constraining:  ‹∀ 3. {(α2228'''' -> α2225'''') where: α1506' <: ((α2209'''',) -> α2219''''), α2226' <: ((α2224',) -> α2227'''')}›  <!<  α2202'
//│ ╟── while constraining:  ‹∀ 3. {(α2218'''' -> α2216'''') where: α1506' <: ((α2209'''',) -> α2210''''), α1495'' <: ((α2208'',) -> α2217'''')}›  <!<  α2202'
//│ ╟── while constraining:  (α2208'' -> ‹∀ 3. {(α2218'''' -> α2216'''') where: α1506' <: ((α2209'''',) -> α2210''''), α1495'' <: ((α2208'',) -> α2217'''')}›)  <!<  ((α2201',) -> α2202')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2201',) -> α2202')
//│ ╟── while constraining:  α1506'  <!<  ((α2201',) -> α2202')
//│ ╟── while constraining:  α1506'  <!<  ((α2191'',) -> α2192'')
//│ ╟── while constraining:  {(α2200'' -> α2198'') where: α1506' <: ((α2191'',) -> α2192''), α2188' <: ((α2186',) -> α2199'')}  <!<  ((α2165',) -> α2167')
//│ ╟── while constraining:  ‹∀ 3. {(α2190'''' -> α2187'''') where: α1506' <: ((α2171'''',) -> α2181''''), α2188' <: ((α2186',) -> α2189'''')}›  <!<  ((α2165',) -> α2167')
//│ ╟── while constraining:  ‹∀ 3. {(α2190'''' -> α2187'''') where: α1506' <: ((α2171'''',) -> α2181''''), α2188' <: ((α2186',) -> α2189'''')}›  <!<  α2164'
//│ ╟── while constraining:  ‹∀ 3. {(α2180'''' -> α2178'''') where: α1506' <: ((α2171'''',) -> α2172''''), α1495'' <: ((α2170'',) -> α2179'''')}›  <!<  α2164'
//│ ╟── while constraining:  (α2170'' -> ‹∀ 3. {(α2180'''' -> α2178'''') where: α1506' <: ((α2171'''',) -> α2172''''), α1495'' <: ((α2170'',) -> α2179'''')}›)  <!<  ((α2163',) -> α2164')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2163',) -> α2164')
//│ ╟── while constraining:  α1506'  <!<  ((α2163',) -> α2164')
//│ ╟── while constraining:  α1506'  <!<  ((α2153'',) -> α2154'')
//│ ╟── while constraining:  {(α2162'' -> α2160'') where: α1506' <: ((α2153'',) -> α2154''), α2150' <: ((α2148',) -> α2161'')}  <!<  ((α2127',) -> α2129')
//│ ╟── while constraining:  ‹∀ 3. {(α2152'''' -> α2149'''') where: α1506' <: ((α2133'''',) -> α2143''''), α2150' <: ((α2148',) -> α2151'''')}›  <!<  ((α2127',) -> α2129')
//│ ╟── while constraining:  ‹∀ 3. {(α2152'''' -> α2149'''') where: α1506' <: ((α2133'''',) -> α2143''''), α2150' <: ((α2148',) -> α2151'''')}›  <!<  α2126'
//│ ╟── while constraining:  ‹∀ 3. {(α2142'''' -> α2140'''') where: α1506' <: ((α2133'''',) -> α2134''''), α1495'' <: ((α2132'',) -> α2141'''')}›  <!<  α2126'
//│ ╟── while constraining:  (α2132'' -> ‹∀ 3. {(α2142'''' -> α2140'''') where: α1506' <: ((α2133'''',) -> α2134''''), α1495'' <: ((α2132'',) -> α2141'''')}›)  <!<  ((α2125',) -> α2126')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2125',) -> α2126')
//│ ╟── while constraining:  α1506'  <!<  ((α2125',) -> α2126')
//│ ╟── while constraining:  α1506'  <!<  ((α2115'',) -> α2116'')
//│ ╟── while constraining:  {(α2124'' -> α2122'') where: α1506' <: ((α2115'',) -> α2116''), α2112' <: ((α2110',) -> α2123'')}  <!<  ((α2089',) -> α2091')
//│ ╟── while constraining:  ‹∀ 3. {(α2114'''' -> α2111'''') where: α1506' <: ((α2095'''',) -> α2105''''), α2112' <: ((α2110',) -> α2113'''')}›  <!<  ((α2089',) -> α2091')
//│ ╟── while constraining:  ‹∀ 3. {(α2114'''' -> α2111'''') where: α1506' <: ((α2095'''',) -> α2105''''), α2112' <: ((α2110',) -> α2113'''')}›  <!<  α2088'
//│ ╟── while constraining:  ‹∀ 3. {(α2104'''' -> α2102'''') where: α1506' <: ((α2095'''',) -> α2096''''), α1495'' <: ((α2094'',) -> α2103'''')}›  <!<  α2088'
//│ ╟── while constraining:  (α2094'' -> ‹∀ 3. {(α2104'''' -> α2102'''') where: α1506' <: ((α2095'''',) -> α2096''''), α1495'' <: ((α2094'',) -> α2103'''')}›)  <!<  ((α2087',) -> α2088')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2087',) -> α2088')
//│ ╟── while constraining:  α1506'  <!<  ((α2087',) -> α2088')
//│ ╟── while constraining:  α1506'  <!<  ((α2077'',) -> α2078'')
//│ ╟── while constraining:  {(α2086'' -> α2084'') where: α1506' <: ((α2077'',) -> α2078''), α2074' <: ((α2072',) -> α2085'')}  <!<  ((α2051',) -> α2053')
//│ ╟── while constraining:  ‹∀ 3. {(α2076'''' -> α2073'''') where: α1506' <: ((α2057'''',) -> α2067''''), α2074' <: ((α2072',) -> α2075'''')}›  <!<  ((α2051',) -> α2053')
//│ ╟── while constraining:  ‹∀ 3. {(α2076'''' -> α2073'''') where: α1506' <: ((α2057'''',) -> α2067''''), α2074' <: ((α2072',) -> α2075'''')}›  <!<  α2050'
//│ ╟── while constraining:  ‹∀ 3. {(α2066'''' -> α2064'''') where: α1506' <: ((α2057'''',) -> α2058''''), α1495'' <: ((α2056'',) -> α2065'''')}›  <!<  α2050'
//│ ╟── while constraining:  (α2056'' -> ‹∀ 3. {(α2066'''' -> α2064'''') where: α1506' <: ((α2057'''',) -> α2058''''), α1495'' <: ((α2056'',) -> α2065'''')}›)  <!<  ((α2049',) -> α2050')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2049',) -> α2050')
//│ ╟── while constraining:  α1506'  <!<  ((α2049',) -> α2050')
//│ ╟── while constraining:  α1506'  <!<  ((α2039'',) -> α2040'')
//│ ╟── while constraining:  {(α2048'' -> α2046'') where: α1506' <: ((α2039'',) -> α2040''), α2036' <: ((α2034',) -> α2047'')}  <!<  ((α2013',) -> α2015')
//│ ╟── while constraining:  ‹∀ 3. {(α2038'''' -> α2035'''') where: α1506' <: ((α2019'''',) -> α2029''''), α2036' <: ((α2034',) -> α2037'''')}›  <!<  ((α2013',) -> α2015')
//│ ╟── while constraining:  ‹∀ 3. {(α2038'''' -> α2035'''') where: α1506' <: ((α2019'''',) -> α2029''''), α2036' <: ((α2034',) -> α2037'''')}›  <!<  α2012'
//│ ╟── while constraining:  ‹∀ 3. {(α2028'''' -> α2026'''') where: α1506' <: ((α2019'''',) -> α2020''''), α1495'' <: ((α2018'',) -> α2027'''')}›  <!<  α2012'
//│ ╟── while constraining:  (α2018'' -> ‹∀ 3. {(α2028'''' -> α2026'''') where: α1506' <: ((α2019'''',) -> α2020''''), α1495'' <: ((α2018'',) -> α2027'''')}›)  <!<  ((α2011',) -> α2012')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α2011',) -> α2012')
//│ ╟── while constraining:  α1506'  <!<  ((α2011',) -> α2012')
//│ ╟── while constraining:  α1506'  <!<  ((α2001'',) -> α2002'')
//│ ╟── while constraining:  {(α2010'' -> α2008'') where: α1506' <: ((α2001'',) -> α2002''), α1998' <: ((α1996',) -> α2009'')}  <!<  ((α1975',) -> α1977')
//│ ╟── while constraining:  ‹∀ 3. {(α2000'''' -> α1997'''') where: α1506' <: ((α1981'''',) -> α1991''''), α1998' <: ((α1996',) -> α1999'''')}›  <!<  ((α1975',) -> α1977')
//│ ╟── while constraining:  ‹∀ 3. {(α2000'''' -> α1997'''') where: α1506' <: ((α1981'''',) -> α1991''''), α1998' <: ((α1996',) -> α1999'''')}›  <!<  α1974'
//│ ╟── while constraining:  ‹∀ 3. {(α1990'''' -> α1988'''') where: α1506' <: ((α1981'''',) -> α1982''''), α1495'' <: ((α1980'',) -> α1989'''')}›  <!<  α1974'
//│ ╟── while constraining:  (α1980'' -> ‹∀ 3. {(α1990'''' -> α1988'''') where: α1506' <: ((α1981'''',) -> α1982''''), α1495'' <: ((α1980'',) -> α1989'''')}›)  <!<  ((α1973',) -> α1974')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α1973',) -> α1974')
//│ ╟── while constraining:  α1506'  <!<  ((α1973',) -> α1974')
//│ ╟── while constraining:  α1506'  <!<  ((α1963'',) -> α1964'')
//│ ╟── while constraining:  {(α1972'' -> α1970'') where: α1506' <: ((α1963'',) -> α1964''), α1960' <: ((α1958',) -> α1971'')}  <!<  ((α1937',) -> α1939')
//│ ╟── while constraining:  ‹∀ 3. {(α1962'''' -> α1959'''') where: α1506' <: ((α1943'''',) -> α1953''''), α1960' <: ((α1958',) -> α1961'''')}›  <!<  ((α1937',) -> α1939')
//│ ╟── while constraining:  ‹∀ 3. {(α1962'''' -> α1959'''') where: α1506' <: ((α1943'''',) -> α1953''''), α1960' <: ((α1958',) -> α1961'''')}›  <!<  α1936'
//│ ╟── while constraining:  ‹∀ 3. {(α1952'''' -> α1950'''') where: α1506' <: ((α1943'''',) -> α1944''''), α1495'' <: ((α1942'',) -> α1951'''')}›  <!<  α1936'
//│ ╟── while constraining:  (α1942'' -> ‹∀ 3. {(α1952'''' -> α1950'''') where: α1506' <: ((α1943'''',) -> α1944''''), α1495'' <: ((α1942'',) -> α1951'''')}›)  <!<  ((α1935',) -> α1936')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α1935',) -> α1936')
//│ ╟── while constraining:  α1506'  <!<  ((α1935',) -> α1936')
//│ ╟── while constraining:  α1506'  <!<  ((α1925'',) -> α1926'')
//│ ╟── while constraining:  {(α1934'' -> α1932'') where: α1506' <: ((α1925'',) -> α1926''), α1922' <: ((α1920',) -> α1933'')}  <!<  ((α1899',) -> α1901')
//│ ╟── while constraining:  ‹∀ 3. {(α1924'''' -> α1921'''') where: α1506' <: ((α1905'''',) -> α1915''''), α1922' <: ((α1920',) -> α1923'''')}›  <!<  ((α1899',) -> α1901')
//│ ╟── while constraining:  ‹∀ 3. {(α1924'''' -> α1921'''') where: α1506' <: ((α1905'''',) -> α1915''''), α1922' <: ((α1920',) -> α1923'''')}›  <!<  α1898'
//│ ╟── while constraining:  ‹∀ 3. {(α1914'''' -> α1912'''') where: α1506' <: ((α1905'''',) -> α1906''''), α1495'' <: ((α1904'',) -> α1913'''')}›  <!<  α1898'
//│ ╟── while constraining:  (α1904'' -> ‹∀ 3. {(α1914'''' -> α1912'''') where: α1506' <: ((α1905'''',) -> α1906''''), α1495'' <: ((α1904'',) -> α1913'''')}›)  <!<  ((α1897',) -> α1898')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α1897',) -> α1898')
//│ ╟── while constraining:  α1506'  <!<  ((α1897',) -> α1898')
//│ ╟── while constraining:  α1506'  <!<  ((α1887'',) -> α1888'')
//│ ╟── while constraining:  {(α1896'' -> α1894'') where: α1506' <: ((α1887'',) -> α1888''), α1884' <: ((α1882',) -> α1895'')}  <!<  ((α1861',) -> α1863')
//│ ╟── while constraining:  ‹∀ 3. {(α1886'''' -> α1883'''') where: α1506' <: ((α1867'''',) -> α1877''''), α1884' <: ((α1882',) -> α1885'''')}›  <!<  ((α1861',) -> α1863')
//│ ╟── while constraining:  ‹∀ 3. {(α1886'''' -> α1883'''') where: α1506' <: ((α1867'''',) -> α1877''''), α1884' <: ((α1882',) -> α1885'''')}›  <!<  α1860'
//│ ╟── while constraining:  ‹∀ 3. {(α1876'''' -> α1874'''') where: α1506' <: ((α1867'''',) -> α1868''''), α1495'' <: ((α1866'',) -> α1875'''')}›  <!<  α1860'
//│ ╟── while constraining:  (α1866'' -> ‹∀ 3. {(α1876'''' -> α1874'''') where: α1506' <: ((α1867'''',) -> α1868''''), α1495'' <: ((α1866'',) -> α1875'''')}›)  <!<  ((α1859',) -> α1860')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α1859',) -> α1860')
//│ ╟── while constraining:  α1506'  <!<  ((α1859',) -> α1860')
//│ ╟── while constraining:  α1506'  <!<  ((α1849'',) -> α1850'')
//│ ╟── while constraining:  {(α1858'' -> α1856'') where: α1506' <: ((α1849'',) -> α1850''), α1846' <: ((α1844',) -> α1857'')}  <!<  ((α1823',) -> α1825')
//│ ╟── while constraining:  ‹∀ 3. {(α1848'''' -> α1845'''') where: α1506' <: ((α1829'''',) -> α1839''''), α1846' <: ((α1844',) -> α1847'''')}›  <!<  ((α1823',) -> α1825')
//│ ╟── while constraining:  ‹∀ 3. {(α1848'''' -> α1845'''') where: α1506' <: ((α1829'''',) -> α1839''''), α1846' <: ((α1844',) -> α1847'''')}›  <!<  α1822'
//│ ╟── while constraining:  ‹∀ 3. {(α1838'''' -> α1836'''') where: α1506' <: ((α1829'''',) -> α1830''''), α1495'' <: ((α1828'',) -> α1837'''')}›  <!<  α1822'
//│ ╟── while constraining:  (α1828'' -> ‹∀ 3. {(α1838'''' -> α1836'''') where: α1506' <: ((α1829'''',) -> α1830''''), α1495'' <: ((α1828'',) -> α1837'''')}›)  <!<  ((α1821',) -> α1822')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α1821',) -> α1822')
//│ ╟── while constraining:  α1506'  <!<  ((α1821',) -> α1822')
//│ ╟── while constraining:  α1506'  <!<  ((α1811'',) -> α1812'')
//│ ╟── while constraining:  {(α1820'' -> α1818'') where: α1506' <: ((α1811'',) -> α1812''), α1808' <: ((α1806',) -> α1819'')}  <!<  ((α1785',) -> α1787')
//│ ╟── while constraining:  ‹∀ 3. {(α1810'''' -> α1807'''') where: α1506' <: ((α1791'''',) -> α1801''''), α1808' <: ((α1806',) -> α1809'''')}›  <!<  ((α1785',) -> α1787')
//│ ╟── while constraining:  ‹∀ 3. {(α1810'''' -> α1807'''') where: α1506' <: ((α1791'''',) -> α1801''''), α1808' <: ((α1806',) -> α1809'''')}›  <!<  α1784'
//│ ╟── while constraining:  ‹∀ 3. {(α1800'''' -> α1798'''') where: α1506' <: ((α1791'''',) -> α1792''''), α1495'' <: ((α1790'',) -> α1799'''')}›  <!<  α1784'
//│ ╟── while constraining:  (α1790'' -> ‹∀ 3. {(α1800'''' -> α1798'''') where: α1506' <: ((α1791'''',) -> α1792''''), α1495'' <: ((α1790'',) -> α1799'''')}›)  <!<  ((α1783',) -> α1784')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α1783',) -> α1784')
//│ ╟── while constraining:  α1506'  <!<  ((α1783',) -> α1784')
//│ ╟── while constraining:  α1506'  <!<  ((α1773'',) -> α1774'')
//│ ╟── while constraining:  {(α1782'' -> α1780'') where: α1506' <: ((α1773'',) -> α1774''), α1770' <: ((α1768',) -> α1781'')}  <!<  ((α1747',) -> α1749')
//│ ╟── while constraining:  ‹∀ 3. {(α1772'''' -> α1769'''') where: α1506' <: ((α1753'''',) -> α1763''''), α1770' <: ((α1768',) -> α1771'''')}›  <!<  ((α1747',) -> α1749')
//│ ╟── while constraining:  ‹∀ 3. {(α1772'''' -> α1769'''') where: α1506' <: ((α1753'''',) -> α1763''''), α1770' <: ((α1768',) -> α1771'''')}›  <!<  α1746'
//│ ╟── while constraining:  ‹∀ 3. {(α1762'''' -> α1760'''') where: α1506' <: ((α1753'''',) -> α1754''''), α1495'' <: ((α1752'',) -> α1761'''')}›  <!<  α1746'
//│ ╟── while constraining:  (α1752'' -> ‹∀ 3. {(α1762'''' -> α1760'''') where: α1506' <: ((α1753'''',) -> α1754''''), α1495'' <: ((α1752'',) -> α1761'''')}›)  <!<  ((α1745',) -> α1746')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α1745',) -> α1746')
//│ ╟── while constraining:  α1506'  <!<  ((α1745',) -> α1746')
//│ ╟── while constraining:  α1506'  <!<  ((α1735'',) -> α1736'')
//│ ╟── while constraining:  {(α1744'' -> α1742'') where: α1506' <: ((α1735'',) -> α1736''), α1732' <: ((α1730',) -> α1743'')}  <!<  ((α1709',) -> α1711')
//│ ╟── while constraining:  ‹∀ 3. {(α1734'''' -> α1731'''') where: α1506' <: ((α1715'''',) -> α1725''''), α1732' <: ((α1730',) -> α1733'''')}›  <!<  ((α1709',) -> α1711')
//│ ╟── while constraining:  ‹∀ 3. {(α1734'''' -> α1731'''') where: α1506' <: ((α1715'''',) -> α1725''''), α1732' <: ((α1730',) -> α1733'''')}›  <!<  α1708'
//│ ╟── while constraining:  ‹∀ 3. {(α1724'''' -> α1722'''') where: α1506' <: ((α1715'''',) -> α1716''''), α1495'' <: ((α1714'',) -> α1723'''')}›  <!<  α1708'
//│ ╟── while constraining:  (α1714'' -> ‹∀ 3. {(α1724'''' -> α1722'''') where: α1506' <: ((α1715'''',) -> α1716''''), α1495'' <: ((α1714'',) -> α1723'''')}›)  <!<  ((α1707',) -> α1708')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α1707',) -> α1708')
//│ ╟── while constraining:  α1506'  <!<  ((α1707',) -> α1708')
//│ ╟── while constraining:  α1506'  <!<  ((α1697'',) -> α1698'')
//│ ╟── while constraining:  {(α1706'' -> α1704'') where: α1506' <: ((α1697'',) -> α1698''), α1694' <: ((α1692',) -> α1705'')}  <!<  ((α1671',) -> α1673')
//│ ╟── while constraining:  ‹∀ 3. {(α1696'''' -> α1693'''') where: α1506' <: ((α1677'''',) -> α1687''''), α1694' <: ((α1692',) -> α1695'''')}›  <!<  ((α1671',) -> α1673')
//│ ╟── while constraining:  ‹∀ 3. {(α1696'''' -> α1693'''') where: α1506' <: ((α1677'''',) -> α1687''''), α1694' <: ((α1692',) -> α1695'''')}›  <!<  α1670'
//│ ╟── while constraining:  ‹∀ 3. {(α1686'''' -> α1684'''') where: α1506' <: ((α1677'''',) -> α1678''''), α1495'' <: ((α1676'',) -> α1685'''')}›  <!<  α1670'
//│ ╟── while constraining:  (α1676'' -> ‹∀ 3. {(α1686'''' -> α1684'''') where: α1506' <: ((α1677'''',) -> α1678''''), α1495'' <: ((α1676'',) -> α1685'''')}›)  <!<  ((α1669',) -> α1670')
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  ((α1669',) -> α1670')
//│ ╟── while constraining:  α1506'  <!<  ((α1669',) -> α1670')
//│ ╟── while constraining:  α1506'  <!<  ((α1659'',) -> α1660'')
//│ ╟── while constraining:  {(α1668'' -> α1666'') where: α1506' <: ((α1659'',) -> α1660''), α1495'' <: ((α1648'',) -> α1667'')}  <!<  (List[‘b''] -> ‘a'')
//│ ╟── while constraining:  ‹∀ 3. {(α1658'''' -> α1656'''') where: α1506' <: ((α1649'''',) -> α1650''''), α1495'' <: ((α1648'',) -> α1657'''')}›  <!<  (List[‘b''] -> ‘a'')
//│ ╟── while constraining:  (α1648'' -> ‹∀ 3. {(α1658'''' -> α1656'''') where: α1506' <: ((α1649'''',) -> α1650''''), α1495'' <: ((α1648'',) -> α1657'''')}›)  <!<  (‘a'' -> (List[‘b''] -> ‘a''))
//│ ╟── while constraining:  ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›  <!<  (‘a'' -> (List[‘b''] -> ‘a''))
//│ ╟── while constraining:  (α1645'' -> ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›)  <!<  ((‘a'' -> (‘b'' -> ‘a'')) -> (‘a'' -> (List[‘b''] -> ‘a'')))
//│ ╟── while constraining:  ‹∀ 1. (α1641'' -> ‹∀ 2. (α1496''' -> ‹∀ 3. {(α1497'''' -> α1511'''') where: α1506' <: ((α1518'''',) -> α1519''''), α1495'' <: ((α1496''',) -> α1522'''')}›)›)›  <!<  ((‘a'' -> (‘b'' -> ‘a'')) -> (‘a'' -> (List[‘b''] -> ‘a'')))
//│ ╟── while constraining:  fl1640''  <!<  ((‘a'' -> (‘b'' -> ‘a'')) -> (‘a'' -> (List[‘b''] -> ‘a'')))
//│ ╟── while constraining:  ‹∀ 0. fl1494'›  <!<  ((‘a'' -> (‘b'' -> ‘a'')) -> (‘a'' -> (List[‘b''] -> ‘a'')))
//│ ╟── while constraining:  ‹∀ 0. ‹∀ 0. fl1494'››  <!<  ((‘a'' -> (‘b'' -> ‘a'')) -> (‘a'' -> (List[‘b''] -> ‘a'')))
//│ ╟── while constraining:  ‹∀ 0. ‹∀ 0. fl1494'››  <!<  ‹∀ 1. (('a1486'' -> ('b1487'' -> 'a1486'')) -> ('a1486'' -> (List['b1487''] -> 'a1486'')))›
//│ ╙── while constraining:  ‹∀ 0. ‹∀ 0. fl1494'››  <!<  ‹∀ 0. ‹∀ 1. (('a1486'' -> ('b1487'' -> 'a1486'')) -> ('a1486'' -> (List['b1487''] -> 'a1486'')))››

def fold_left = fl2
//│ 'c -> (forall 'd. 'd -> (forall 'd, 'a, 'b. (List['b] -> ('a | 'd)
//│   where
//│     'c <: ('a | 'd) -> 'b -> 'a & 'd -> 'b -> 'a)))
//│   <:  fold_left:
//│ ('a -> 'b -> 'a) -> 'a -> List['b] -> 'a

// :d
// rec def fold_left f x l = match_list l x (fun head -> fun tail -> fold_left f (f x head) tail)

// ------------ polymorphic methods ------------

class Collection[a]: { l: List[a] }
  method Mem x = mem x this.l
  method Fold f x = fold_left f x this.l
//│ Defined class Collection[+a]
//│ Defined Collection.Mem: Collection[?] -> anything -> bool
//│ Defined Collection.Fold: Collection['a] -> (forall 'b. 'b -> (forall 'a, 'a0. ('a0 -> 'a0
//│   where
//│     'b <: 'a0 -> 'a -> 'a0)))

def coll_mem c x = c.Mem x
//│ coll_mem: 'a -> ('a -> bool
//│   where
//│     'a <: Collection['a])

// typo in the paper? it was `fun x -> fun y -> ...`
def simple_and_double c =
  let l1 = c.Fold (fun y -> fun x -> cons x y) nil in
  let l2 = c.Fold (fun y -> fun x -> cons ((x, x),) y) nil in
  (l1, l2)
//│ simple_and_double: Collection[?] -> (List[nothing], List[(nothing, nothing,)],)

simple_and_double (Collection{l = cons 1 nil})
//│ res: (List[nothing], List[(nothing, nothing,)],)

// ------------ subtyping & methods ------------

class Float
class Color
class Point: { x: Float; y: Float }
class ColorPoint: Point & { c: Color }
class Circle: { x: Float; y: Float; r: Float }
  method Distance: Point -> Float
//│ Defined class Float
//│ Defined class Color
//│ Defined class Point
//│ Defined class ColorPoint
//│ Defined class Circle
//│ Declared Circle.Distance: Circle -> Point -> Float

c = error : Circle
cp = error : ColorPoint
c.Distance cp
//│ c: Circle
//│ cp: ColorPoint
//│ res: Float
