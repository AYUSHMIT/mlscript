:PreTyper

fun f(x, y) =
  if x == 0 and
    y == 0 then "bruh"
    y == 1 then "lol"
  else "okay"
//│ fun f: (Num, Num) -> ("bruh" | "lol" | "okay")

class A()
class B()
//│ class A()
//│ class B()

:e
// TODO: Should report missing else branches.
fun f(x) =
  if x == 0 and
    x is
      A() then "A"
      B() then "B"
    x == 0 then "lol"
    else "bruh"
//│ ╔══[ERROR] Type mismatch in `case` expression:
//│ ║  l.19: 	    x is
//│ ║        	    ^^^^
//│ ║  l.20: 	      A() then "A"
//│ ║        	^^^^^^^^^^^^^^^^^^
//│ ║  l.21: 	      B() then "B"
//│ ║        	^^^^^^^^^^^^^^^^^^
//│ ║  l.22: 	    x == 0 then "lol"
//│ ║        	^^^^^^^^^^^^^^^^^^^^^
//│ ║  l.23: 	    else "bruh"
//│ ║        	^^^^^^^^^^^^^^^
//│ ╙── expression of type `Bool` is not an instance of type `true`
//│ fun f: Num -> ("A" | "B" | "bruh" | "lol")

:e
// TODO: Should report missing else branches.
fun f(x, y) =
  if
    x == 0 and
      y == 0 then "bruh"
      else "lol"
//│ ╔══[ERROR] Type mismatch in `case` expression:
//│ ║  l.43: 	      y == 0 then "bruh"
//│ ║        	      ^^^^^^^^^^^^^^^^^^
//│ ║  l.44: 	      else "lol"
//│ ║        	^^^^^^^^^^^^^^^^
//│ ╙── expression of type `Bool` is not an instance of type `true`
//│ fun f: (Num, Num) -> ("bruh" | "lol")
