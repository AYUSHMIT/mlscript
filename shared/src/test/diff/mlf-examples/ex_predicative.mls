// type bot = 0;;
type Bot = forall 'a. 'a
//│ Defined type alias Bot

// (* Rank 6 with intersection types, untypable in predicative System F,
//    typable in impredicative System F *)


// let imp (z : bot) =
//   (fun (x : ['a] ('a -> 'u) -> 'v) -> x x)
//   (fun (y : 'a -> bot) -> y z y);;
def imp (z: Bot) =
  (fun (x: forall 'a. ('a -> 'u) -> 'v) -> x x)
  (fun (y: 'a -> Bot) -> y z y)
def imp' z =
  (fun x -> x x)
  (fun y -> y z y)
//│ imp: Bot -> nothing
//│    = [Function: imp]
//│ imp': ('a -> 'a -> (forall 'b, 'c. ('a -> 'b -> 'c & 'b) -> 'c) -> 'd & 'a) -> 'd
//│     = [Function: imp]


// (* Quelques constantes. *)

// type sid = ['a] 'a -> 'a
type Sid = forall 'a. 'a -> 'a
//│ Defined type alias Sid

// let id = fun x -> x
// ;;
def id = fun x -> x
//│ id: 'a -> 'a
//│   = [Function: id]

// let delta = fun (x:sid) -> x x
// ;;
def delta = fun (x: Sid) -> x x
def delta' = fun x -> x x
//│ delta: Sid -> Sid
//│      = [Function: delta]
//│ delta': ('a -> 'b & 'a) -> 'b
//│       = [Function: delta]

// delta id ;;
delta id
delta' id
//│ res: Sid
//│    = [Function: id]
//│ res: 'a -> 'a
//│    = [Function: id]

// let t a b c d e = (fun x -> a x x) ((fun y -> b (c y)) (d e)) ;;
def t a b c d e = (fun x -> a x x) ((fun y -> b (c y)) (d e))
//│ t: ('a -> 'a -> 'b) -> ('c -> 'a) -> ('d -> 'c) -> ('e -> 'd) -> 'e -> 'b
//│  = [Function: t]

// let t w z a b = (fun y -> (fun x -> w (x y) z) a) b ;;
def t w z a b = (fun y -> (fun x -> w (x y) z) a) b
//│ t: ('a -> 'b -> 'c) -> 'b -> ('d -> 'a) -> 'd -> 'c
//│  = [Function: t1]

// let t y a = (fun x -> x (x y)) ((fun z -> z) (fun x -> a x)) ;;
def t y a = (fun x -> x (x y)) ((fun z -> z) (fun x -> a x))
//│ t: 'a -> ('a -> 'b & 'b -> 'c) -> 'c
//│  = [Function: t2]

// (* Rank 1 *)
// (fun x -> fun y -> x y) (fun y -> fun x -> x y) ;;
(fun x -> fun y -> x y) (fun y -> fun x -> x y)
//│ res: 'a -> ('a -> 'b) -> 'b
//│    = [Function (anonymous)]

// (* Rank 3 *)
// (fun x -> fun y -> x) delta ;;
(fun x -> fun y -> x) delta
(fun x -> fun y -> x) delta'
//│ res: anything -> Sid -> Sid
//│    = [Function (anonymous)]
//│ res: anything -> (forall 'a, 'b. ('a -> 'b & 'a) -> 'b)
//│    = [Function (anonymous)]

// (* Rank 5 *)
// (fun x -> fun y -> x y) (fun y -> fun x -> x y) delta ;;
(fun x -> fun y -> x y) (fun y -> fun x -> x y) delta
(fun x -> fun y -> x y) (fun y -> fun x -> x y) delta'
//│ res: ((Sid -> Sid) -> 'a) -> 'a
//│    = [Function (anonymous)]
//│ res: ((forall 'a, 'b. ('a -> 'b & 'a) -> 'b) -> 'c) -> 'c
//│    = [Function (anonymous)]

// (* Rank 8 *)
// (fun (x:sid) -> x x x x x) id delta ;;
(fun (x: Sid) -> x x x x x) id delta
(fun x -> x x x x x) id delta'
//│ res: Sid -> Sid
//│    = [Function: delta]
//│ res: ('a -> 'b & 'a) -> 'b
//│    = [Function: delta]

// (* Rank 2 *)
// type sk = ['a,'b] 'a -> 'b -> 'a;;
// (fun (f:sk) -> fun x -> f f x) (fun v -> fun w -> v) ;;
type Sk = forall 'a 'b. 'a -> 'b -> 'a
(fun (f: Sk) -> fun x -> f f x) (fun v -> fun w -> v)
(fun f -> fun x -> f f x) (fun v -> fun w -> v)
//│ Defined type alias Sk
//│ res: anything -> Sk
//│    = [Function (anonymous)]
//│ res: anything -> (forall 'a. 'a -> anything -> 'a)
//│    = [Function (anonymous)]

// (* Rank 3 *)
// (fun t -> fun k -> t k) (fun (f:sk) -> fun x -> f f x) (fun v -> fun w -> v);;
(fun t -> fun k -> t k) (fun (f: Sk) -> fun x -> f f x) (fun v -> fun w -> v)
(fun t -> fun k -> t k) (fun f -> fun x -> f f x) (fun v -> fun w -> v)
//│ res: anything -> Sk
//│    = [Function (anonymous)]
//│ res: anything -> (forall 'a. 'a -> anything -> 'a)
//│    = [Function (anonymous)]


// let k = fun x y -> x
// let k' = fun x y -> y
// let app = fun f x -> f x
// let two = fun f x -> f (f x)
// let three = fun f x -> f (f (f x))
def k = fun x -> fun y -> x
def k2 = fun x -> fun y -> y
def app = fun f -> fun x -> f x
def two = fun f -> fun x -> f (f x)
def three = fun f -> fun x -> f (f (f x))
//│ k: 'a -> anything -> 'a
//│  = [Function: k]
//│ k2: anything -> 'a -> 'a
//│   = [Function: k2]
//│ app: ('a -> 'b) -> 'a -> 'b
//│    = [Function: app]
//│ two: ('a -> 'b & 'c -> 'a) -> 'c -> 'b
//│    = [Function: two]
//│ three: ('a -> 'b & 'c -> 'd & 'b -> 'c) -> 'a -> 'd
//│      = [Function: three]

// type Int = ['a] ('a -> 'a) -> ('a -> 'a)
// ;;
type ChurchInt = forall 'a. ('a -> 'a) -> ('a -> 'a)
//│ Defined type alias ChurchInt

// (* Factorial of two and three *)
// (* Only ONE annotation ! *)
// let t y = (fun h -> h (h (h (fun x -> y)))) (fun f -> fun (n:Int) -> n (fun v -> k') k app (fun g -> fun x -> n (f (n (fun p -> fun s -> s (p k') (fun f -> fun x -> f (p k' f x))) (fun s -> s k' k') k) g) x)) two ;;
// FIXME
def t y = (fun h -> h (h (h (fun x -> y)))) (fun f -> fun (n: ChurchInt) -> n (fun v -> k2) k app (fun g -> fun x -> n (f (n (fun p -> fun s -> s (p k2) (fun f -> fun x -> f (p k2 f x))) (fun s -> s k2 k2) k) g) x)) two
def t2 y = (fun h -> h (h (h (fun x -> y)))) (fun f -> fun n -> n (fun v -> k2) k app (fun g -> fun x -> n (f (n (fun p -> fun s -> s (p k2) (fun f -> fun x -> f (p k2 f x))) (fun s -> s k2 k2) k) g) x)) two
//│ t: 'a -> (forall 'b, 'c. (('d -> 'e & 'f) -> ('d & 'g) -> ('e | 'h)
//│   where
//│     'b <: (((forall 'a, 'i. 'a -> 'i -> 'i) -> 'j & 'a) -> ('j -> (forall 'a. (('k -> 'l & 'm) -> 'n -> 'l
//│   where
//│     'a <: (forall 'a, 'i. 'a -> 'i -> 'i) -> 'm -> 'n -> 'k)) -> 'o) -> 'o) -> (((forall 'a, 'i. 'a -> 'i -> 'i) -> (forall 'a, 'i. 'a -> 'i -> 'i) -> 'p) -> 'p) -> (forall 'a, 'q. 'q -> 'a -> 'q) -> 'r & 's -> 'g -> 'h
//│     'c <: 'r -> 'f -> 's))
//│  = [Function: t3]
//│ t2: 'a -> (forall 'b, 'c, 'd, 'e, 'f. ('d -> 'g -> 'h
//│   where
//│     'b <: 'c -> 'd -> 'e
//│     'f <: (((forall 'a, 'i. 'a -> 'i -> 'i) -> 'j & 'a) -> ('j -> (forall 'a. (('k -> 'l & 'm) -> 'n -> 'l
//│   where
//│     'a <: (forall 'a, 'i. 'a -> 'i -> 'i) -> 'm -> 'n -> 'k)) -> 'o) -> 'o) -> (((forall 'a, 'i. 'a -> 'i -> 'i) -> (forall 'a, 'i. 'a -> 'i -> 'i) -> 'p) -> 'p) -> (forall 'a, 'q. 'q -> 'a -> 'q) -> 'c & 'e -> 'g -> 'h))
//│   = [Function: t21]

// FIXME
t id succ 0
t2 id succ 0
//│ ╔══[ERROR] Subtyping constraint of the form `?a <: (int -> int) -> ?b` exceeded recursion depth limit (400)
//│ ║  l.171: 	t id succ 0
//│ ║         	^^^^^^^^^
//│ ╟── while constraining:  (‹∀ 0. (α407' -> (α408' -> α408'))›,)  <!<  (α1229',)
//│ ╟── while constraining:  (α1229' -> α1229')  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1227')
//│ ╟── while constraining:  (α1229' -> α1229')  <!<  α1226'
//│ ╟── while constraining:  (α1228' -> (α1229' -> α1229'))  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1226')
//│ ╟── while constraining:  ‹∀ 0. (α407' -> (α408' -> α408'))›  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1226')
//│ ╟── while constraining:  ‹∀ 0. (α407' -> (α408' -> α408'))›  <!<  α1225'
//│ ╟── while constraining:  (‹∀ 0. (α407' -> (α408' -> α408'))›,)  <!<  (α1225',)
//│ ╟── while constraining:  (α1225' -> α1227')  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1220)
//│ ╟── while constraining:  ‹∀ 3. (α489'''' -> α491'''')›  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1220)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1220)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1214')
//│ ╟── while constraining:  {(α1215' -> (α1219' -> α1217')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1214')}  <!<  ((α1201,) -> α1202)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ((α1201,) -> α1202)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  α1200
//│ ╟── while constraining:  α878  <!<  α1200
//│ ╟── while constraining:  (α870 -> α878)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1200)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1200)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1194')
//│ ╟── while constraining:  {(α1195' -> (α1199' -> α1197')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1194')}  <!<  ((α1181,) -> α1182)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ((α1181,) -> α1182)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  α1180
//│ ╟── while constraining:  α878  <!<  α1180
//│ ╟── while constraining:  (α870 -> α878)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1180)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1180)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1174')
//│ ╟── while constraining:  {(α1175' -> (α1179' -> α1177')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1174')}  <!<  ((α1161,) -> α1162)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ((α1161,) -> α1162)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  α1160
//│ ╟── while constraining:  α878  <!<  α1160
//│ ╟── while constraining:  (α870 -> α878)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1160)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1160)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1154')
//│ ╟── while constraining:  {(α1155' -> (α1159' -> α1157')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1154')}  <!<  ((α1141,) -> α1142)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ((α1141,) -> α1142)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  α1140
//│ ╟── while constraining:  α878  <!<  α1140
//│ ╟── while constraining:  (α870 -> α878)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1140)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1140)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1134')
//│ ╟── while constraining:  {(α1135' -> (α1139' -> α1137')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1134')}  <!<  ((α1121,) -> α1122)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ((α1121,) -> α1122)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  α1120
//│ ╟── while constraining:  α878  <!<  α1120
//│ ╟── while constraining:  (α870 -> α878)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1120)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1120)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1114')
//│ ╟── while constraining:  {(α1115' -> (α1119' -> α1117')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1114')}  <!<  ((α1101,) -> α1102)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ((α1101,) -> α1102)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  α1100
//│ ╟── while constraining:  α878  <!<  α1100
//│ ╟── while constraining:  (α870 -> α878)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1100)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1100)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1094')
//│ ╟── while constraining:  {(α1095' -> (α1099' -> α1097')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1094')}  <!<  ((α1081,) -> α1082)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ((α1081,) -> α1082)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  α1080
//│ ╟── while constraining:  α878  <!<  α1080
//│ ╟── while constraining:  (α870 -> α878)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1080)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1080)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1074')
//│ ╟── while constraining:  {(α1075' -> (α1079' -> α1077')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1074')}  <!<  ((α1061,) -> α1062)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ((α1061,) -> α1062)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  α1060
//│ ╟── while constraining:  α878  <!<  α1060
//│ ╟── while constraining:  (α870 -> α878)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1060)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1060)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1054')
//│ ╟── while constraining:  {(α1055' -> (α1059' -> α1057')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1054')}  <!<  ((α1041,) -> α1042)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ((α1041,) -> α1042)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  α1040
//│ ╟── while constraining:  α878  <!<  α1040
//│ ╟── while constraining:  (α870 -> α878)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1040)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1040)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1034')
//│ ╟── while constraining:  {(α1035' -> (α1039' -> α1037')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1034')}  <!<  ((α1021,) -> α1022)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ((α1021,) -> α1022)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  α1020
//│ ╟── while constraining:  α878  <!<  α1020
//│ ╟── while constraining:  (α870 -> α878)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1020)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1020)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1014')
//│ ╟── while constraining:  {(α1015' -> (α1019' -> α1017')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1014')}  <!<  ((α1001,) -> α1002)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ((α1001,) -> α1002)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  α1000
//│ ╟── while constraining:  α878  <!<  α1000
//│ ╟── while constraining:  (α870 -> α878)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1000)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1000)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α994')
//│ ╟── while constraining:  {(α995' -> (α999' -> α997')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α994')}  <!<  ((α981,) -> α982)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ((α981,) -> α982)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  α980
//│ ╟── while constraining:  α878  <!<  α980
//│ ╟── while constraining:  (α870 -> α878)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α980)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α980)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α974')
//│ ╟── while constraining:  {(α975' -> (α979' -> α977')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α974')}  <!<  ((α961,) -> α962)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ((α961,) -> α962)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  α960
//│ ╟── while constraining:  α878  <!<  α960
//│ ╟── while constraining:  (α870 -> α878)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α960)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α960)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α954')
//│ ╟── while constraining:  {(α955' -> (α959' -> α957')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α954')}  <!<  ((α941,) -> α942)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ((α941,) -> α942)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  α940
//│ ╟── while constraining:  α878  <!<  α940
//│ ╟── while constraining:  (α870 -> α878)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α940)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α940)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α934')
//│ ╟── while constraining:  {(α935' -> (α939' -> α937')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α934')}  <!<  ((α921,) -> α922)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ((α921,) -> α922)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  α920
//│ ╟── while constraining:  α878  <!<  α920
//│ ╟── while constraining:  (α870 -> α878)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α920)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α920)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α914')
//│ ╟── while constraining:  {(α915' -> (α919' -> α917')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α914')}  <!<  ((α901,) -> α902)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ((α901,) -> α902)
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  α900
//│ ╟── while constraining:  α878  <!<  α900
//│ ╟── while constraining:  (α870 -> α878)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α900)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α900)
//│ ╟── while constraining:  α868  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α894')
//│ ╟── while constraining:  {(α895' -> (α899' -> α897')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α894')}  <!<  ((‘a' -> ‘a') -> (‘a' -> ‘a'))
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ((‘a' -> ‘a') -> (‘a' -> ‘a'))
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ‹∀ 0. (('a455' -> 'a455') -> ('a455' -> 'a455'))›
//│ ╟── while constraining:  ‹∀ 4. {(α873''''' -> (α877''''' -> α875''''')) where: α868 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α872''''')}›  <!<  ChurchInt
//│ ╟── while constraining:  α860  <!<  ChurchInt
//│ ╟── while constraining:  (α860,)  <!<  (ChurchInt,)
//│ ╟── while constraining:  (ChurchInt -> α803)  <!<  ((α860,) -> α865)
//│ ╟── while constraining:  α802  <!<  ((α860,) -> α865)
//│ ╟── while constraining:  {(α866 -> (α863 -> α864)) where: α796 <: ((‹∀ 3. (α477'''' -> (α478'''' -> α487''''))›,) -> α858), α796 <: ((α861,) -> α862), α802 <: ((α860,) -> α865)}  <!<  (((int<number> -> int<number>),) -> α857)
//│ ╟── while constraining:  ‹∀ 2. {(α852''' -> (α849''' -> α850''')) where: α796 <: ((‹∀ 3. (α477'''' -> (α478'''' -> α487''''))›,) -> α844'''), α796 <: ((α847''',) -> α848'''), α802 <: ((α846''',) -> α851''')}›  <!<  (((int<number> -> int<number>),) -> α857)
//│ ╙── while constraining:  α793  <!<  (((int<number> -> int<number>),) -> α857)
//│ res: error
//│    = 2
//│ res: int
//│    = 2

// let t y = (fun h -> h (h (h (h (fun x -> y))))) (fun f -> fun (n:Int) -> n (fun v -> k') k app (fun g -> fun x -> n (f (n (fun p -> fun s -> s (p k') (fun f -> fun x -> f (p k' f x))) (fun s -> s k' k') k) g) x)) three
// FIXME
def t y = (fun h -> h (h (h (fun x -> y)))) (fun f -> fun (n: ChurchInt) -> n (fun v -> k2) k app (fun g -> fun x -> n (f (n (fun p -> fun s -> s (p k2) (fun f -> fun x -> f (p k2 f x))) (fun s -> s k2 k2) k) g) x)) three
def t2 y = (fun h -> h (h (h (fun x -> y)))) (fun f -> fun n -> n (fun v -> k2) k app (fun g -> fun x -> n (f (n (fun p -> fun s -> s (p k2) (fun f -> fun x -> f (p k2 f x))) (fun s -> s k2 k2) k) g) x)) three
//│ t: 'a -> (forall 'b, 'c, 'd, 'e, 'f. (('g -> 'h & 'd) -> ('g & 'i) -> ('h | 'j)
//│   where
//│     'b <: 'c -> 'd -> 'e
//│     'f <: (((forall 'a, 'k. 'a -> 'k -> 'k) -> 'l & 'a) -> ('l -> (forall 'a. (('m -> 'n & 'o) -> 'p -> 'n
//│   where
//│     'a <: (forall 'a, 'k. 'a -> 'k -> 'k) -> 'o -> 'p -> 'm)) -> 'q) -> 'q) -> (((forall 'a, 'k. 'a -> 'k -> 'k) -> (forall 'a, 'k. 'a -> 'k -> 'k) -> 'r) -> 'r) -> (forall 'a, 's. 's -> 'a -> 's) -> 'c & 'e -> 'i -> 'j))
//│  = [Function: t4]
//│ t2: 'a -> (forall 'b, 'c, 'd, 'e, 'f. ('d -> 'g -> 'h
//│   where
//│     'b <: 'c -> 'd -> 'e
//│     'f <: (((forall 'a, 'i. 'a -> 'i -> 'i) -> 'j & 'a) -> ('j -> (forall 'a. (('k -> 'l & 'm) -> 'n -> 'l
//│   where
//│     'a <: (forall 'a, 'i. 'a -> 'i -> 'i) -> 'm -> 'n -> 'k)) -> 'o) -> 'o) -> (((forall 'a, 'i. 'a -> 'i -> 'i) -> (forall 'a, 'i. 'a -> 'i -> 'i) -> 'p) -> 'p) -> (forall 'a, 'q. 'q -> 'a -> 'q) -> 'c & 'e -> 'g -> 'h))
//│   = [Function: t22]

// (* This comment is from the ORIGINAL PAGE: *)
// (* Factorial of three. Exposed bugs in old implementation. This one works correctly, but the generated files take up to 3.8GB, and it takes about 1 hour on a 2GHz PIII box to get the result. You can see the final judgement here. Yes, the result is the Church numeral for 6. *)

// (* We test that the result is 6: *)
// let succ n = n + 1 ;;
// t id succ 0 ;;
// FIXME
t id succ 0
t2 id succ 0
//│ ╔══[ERROR] Subtyping constraint of the form `?a <: (int -> int) -> ?b` exceeded recursion depth limit (400)
//│ ║  l.341: 	t id succ 0
//│ ║         	^^^^^^^^^
//│ ╟── while constraining:  ‹∀ 0. (α407' -> (α408' -> α408'))›  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2229')
//│ ╟── while constraining:  ‹∀ 0. (α407' -> (α408' -> α408'))›  <!<  α2228'
//│ ╟── while constraining:  (‹∀ 0. (α407' -> (α408' -> α408'))›,)  <!<  (α2228',)
//│ ╟── while constraining:  (α2228' -> α2230')  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2223)
//│ ╟── while constraining:  ‹∀ 3. (α1458'''' -> α1460'''')›  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2223)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2223)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2217')
//│ ╟── while constraining:  {(α2218' -> (α2222' -> α2220')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2217')}  <!<  ((α2204,) -> α2205)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ((α2204,) -> α2205)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  α2203
//│ ╟── while constraining:  α1900  <!<  α2203
//│ ╟── while constraining:  (α1892 -> α1900)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2203)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2203)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2197')
//│ ╟── while constraining:  {(α2198' -> (α2202' -> α2200')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2197')}  <!<  ((α2184,) -> α2185)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ((α2184,) -> α2185)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  α2183
//│ ╟── while constraining:  α1900  <!<  α2183
//│ ╟── while constraining:  (α1892 -> α1900)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2183)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2183)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2177')
//│ ╟── while constraining:  {(α2178' -> (α2182' -> α2180')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2177')}  <!<  ((α2164,) -> α2165)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ((α2164,) -> α2165)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  α2163
//│ ╟── while constraining:  α1900  <!<  α2163
//│ ╟── while constraining:  (α1892 -> α1900)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2163)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2163)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2157')
//│ ╟── while constraining:  {(α2158' -> (α2162' -> α2160')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2157')}  <!<  ((α2144,) -> α2145)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ((α2144,) -> α2145)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  α2143
//│ ╟── while constraining:  α1900  <!<  α2143
//│ ╟── while constraining:  (α1892 -> α1900)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2143)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2143)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2137')
//│ ╟── while constraining:  {(α2138' -> (α2142' -> α2140')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2137')}  <!<  ((α2124,) -> α2125)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ((α2124,) -> α2125)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  α2123
//│ ╟── while constraining:  α1900  <!<  α2123
//│ ╟── while constraining:  (α1892 -> α1900)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2123)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2123)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2117')
//│ ╟── while constraining:  {(α2118' -> (α2122' -> α2120')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2117')}  <!<  ((α2104,) -> α2105)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ((α2104,) -> α2105)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  α2103
//│ ╟── while constraining:  α1900  <!<  α2103
//│ ╟── while constraining:  (α1892 -> α1900)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2103)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2103)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2097')
//│ ╟── while constraining:  {(α2098' -> (α2102' -> α2100')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2097')}  <!<  ((α2084,) -> α2085)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ((α2084,) -> α2085)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  α2083
//│ ╟── while constraining:  α1900  <!<  α2083
//│ ╟── while constraining:  (α1892 -> α1900)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2083)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2083)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2077')
//│ ╟── while constraining:  {(α2078' -> (α2082' -> α2080')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2077')}  <!<  ((α2064,) -> α2065)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ((α2064,) -> α2065)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  α2063
//│ ╟── while constraining:  α1900  <!<  α2063
//│ ╟── while constraining:  (α1892 -> α1900)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2063)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2063)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2057')
//│ ╟── while constraining:  {(α2058' -> (α2062' -> α2060')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2057')}  <!<  ((α2044,) -> α2045)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ((α2044,) -> α2045)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  α2043
//│ ╟── while constraining:  α1900  <!<  α2043
//│ ╟── while constraining:  (α1892 -> α1900)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2043)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2043)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2037')
//│ ╟── while constraining:  {(α2038' -> (α2042' -> α2040')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2037')}  <!<  ((α2024,) -> α2025)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ((α2024,) -> α2025)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  α2023
//│ ╟── while constraining:  α1900  <!<  α2023
//│ ╟── while constraining:  (α1892 -> α1900)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2023)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2023)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2017')
//│ ╟── while constraining:  {(α2018' -> (α2022' -> α2020')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2017')}  <!<  ((α2004,) -> α2005)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ((α2004,) -> α2005)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  α2003
//│ ╟── while constraining:  α1900  <!<  α2003
//│ ╟── while constraining:  (α1892 -> α1900)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2003)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α2003)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1997')
//│ ╟── while constraining:  {(α1998' -> (α2002' -> α2000')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1997')}  <!<  ((α1984,) -> α1985)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ((α1984,) -> α1985)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  α1983
//│ ╟── while constraining:  α1900  <!<  α1983
//│ ╟── while constraining:  (α1892 -> α1900)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1983)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1983)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1977')
//│ ╟── while constraining:  {(α1978' -> (α1982' -> α1980')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1977')}  <!<  ((α1964,) -> α1965)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ((α1964,) -> α1965)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  α1963
//│ ╟── while constraining:  α1900  <!<  α1963
//│ ╟── while constraining:  (α1892 -> α1900)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1963)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1963)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1957')
//│ ╟── while constraining:  {(α1958' -> (α1962' -> α1960')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1957')}  <!<  ((α1944,) -> α1945)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ((α1944,) -> α1945)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  α1943
//│ ╟── while constraining:  α1900  <!<  α1943
//│ ╟── while constraining:  (α1892 -> α1900)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1943)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1943)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1937')
//│ ╟── while constraining:  {(α1938' -> (α1942' -> α1940')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1937')}  <!<  ((α1924,) -> α1925)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ((α1924,) -> α1925)
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  α1923
//│ ╟── while constraining:  α1900  <!<  α1923
//│ ╟── while constraining:  (α1892 -> α1900)  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1923)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1923)
//│ ╟── while constraining:  α1890  <!<  ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1917')
//│ ╟── while constraining:  {(α1918' -> (α1922' -> α1920')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1917')}  <!<  ((‘a' -> ‘a') -> (‘a' -> ‘a'))
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ((‘a' -> ‘a') -> (‘a' -> ‘a'))
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ‹∀ 0. (('a455' -> 'a455') -> ('a455' -> 'a455'))›
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  ChurchInt
//│ ╟── while constraining:  ‹∀ 4. {(α1895''''' -> (α1899''''' -> α1897''''')) where: α1890 <: ((‹∀ 0. (α407' -> (α408' -> α408'))›,) -> α1894''''')}›  <!<  α1839
//│ ╟── while constraining:  α1900  <!<  α1839
//│ ╟── while constraining:  (α1892 -> α1900)  <!<  ((‹∀ 0. (α401' -> (α402' -> α401'))›,) -> α1839)
//│ ╟── while constraining:  (α1892 -> α1900)  <!<  α1844
//│ ╟── while constraining:  'a1889  <!<  α1844
//│ ╟── while constraining:  ('a1889 -> 'a1889)  <!<  ((‹∀ 3. (α1458'''' -> α1460'''')›,) -> α1844)
//│ ╟── while constraining:  ('a1889 -> 'a1889)  <!<  α1843
//│ ╟── while constraining:  (('a1889 -> 'a1889) -> ('a1889 -> 'a1889))  <!<  ((‹∀ 3. (α1446'''' -> (α1447'''' -> α1456''''))›,) -> α1843)
//│ ╟── while constraining:  ‹∀ 0. (('a455' -> 'a455') -> ('a455' -> 'a455'))›  <!<  ((‹∀ 3. (α1446'''' -> (α1447'''' -> α1456''''))›,) -> α1843)
//│ ╟── while constraining:  ChurchInt  <!<  ((‹∀ 3. (α1446'''' -> (α1447'''' -> α1456''''))›,) -> α1843)
//│ ╟── while constraining:  α1792  <!<  ((‹∀ 3. (α1446'''' -> (α1447'''' -> α1456''''))›,) -> α1843)
//│ ╟── while constraining:  {(α1841 -> (α1846 -> α1847)) where: α1770 <: ((α1839,) -> α1840), α1792 <: ((‹∀ 3. (α1446'''' -> (α1447'''' -> α1456''''))›,) -> α1843), α1792 <: ((α1842,) -> α1845)}  <!<  ((α1832,) -> α1833)
//│ ╟── while constraining:  ‹∀ 2. {(α1800''' -> (α1805''' -> α1806''')) where: α1770 <: ((α1798''',) -> α1799'''), α1792 <: ((‹∀ 3. (α1446'''' -> (α1447'''' -> α1456''''))›,) -> α1802'''), α1792 <: ((α1801''',) -> α1804''')}›  <!<  ((α1832,) -> α1833)
//│ ╟── while constraining:  ‹∀ 2. {(α1800''' -> (α1805''' -> α1806''')) where: α1770 <: ((α1798''',) -> α1799'''), α1792 <: ((‹∀ 3. (α1446'''' -> (α1447'''' -> α1456''''))›,) -> α1802'''), α1792 <: ((α1801''',) -> α1804''')}›  <!<  α1831
//│ ╟── while constraining:  α1769  <!<  α1831
//│ ╟── while constraining:  (ChurchInt -> α1769)  <!<  ((α1830,) -> α1831)
//│ ╟── while constraining:  α1768  <!<  ((α1830,) -> α1831)
//│ ╟── while constraining:  {(α1832 -> (α1837 -> α1838)) where: α1768 <: ((α1830,) -> α1831), α1810 <: ((‹∀ 3. (α1446'''' -> (α1447'''' -> α1456''''))›,) -> α1834), α1810 <: ((α1833,) -> α1836)}  <!<  (((int<number> -> int<number>),) -> α1829)
//│ ╟── while constraining:  ‹∀ 2. {(α1818''' -> (α1823''' -> α1824''')) where: α1768 <: ((α1816''',) -> α1817'''), α1810 <: ((‹∀ 3. (α1446'''' -> (α1447'''' -> α1456''''))›,) -> α1820'''), α1810 <: ((α1819''',) -> α1822''')}›  <!<  (((int<number> -> int<number>),) -> α1829)
//│ ╙── while constraining:  α1765  <!<  (((int<number> -> int<number>),) -> α1829)
//│ res: error
//│    = 6
//│ res: int
//│    = 6

// let t (z : 0) = let x = (fun (y: ['t > 0] 'a -> 't) -> y z y) in x x;;
def t (z: nothing) = let x = fun (y: forall 't. 'a -> 't) -> y z y in x x
//│ t: nothing -> nothing
//│  = [Function: t5]

// (* Plus petit. *)
// type tt = ['b = 0] ['c > ['a] ['d = ['t] 'a -> 't] ['e] 'd -> 'e] 'b -> 'c ;;
// let t (z : 0) = let x = (fun (y: ['t > 0] 'a -> 't) -> y z) in x x;;
type Tt = forall 'b 'c. ('b & nothing) -> ('c | (forall 'a 'd 'e. ('d & (forall 't. 'a -> 't))) -> 'e)
def t (z: nothing) = let x = fun (y: forall 't. 'a -> 't) -> y z in x x
//│ Defined type alias Tt
//│ t: nothing -> nothing
//│  = [Function: t6]

// (*
//     * Rank 3, untypable in System F?
//       (fun x -> z (x (fun f -> fun u -> f u)) (x (fun v -> fun g -> g v))) (fun y -> y y y)
// FIXME: z is free???

//     * Untypable at any rank
//       (fun x -> x x) (fun x -> x x)
:e
(fun x -> x x) (fun x -> x x)
//│ ╔══[ERROR] Subtyping constraint of the form `?a -> ?b <: (forall ?c, ?d. ?d -> ?c) -> ?e` exceeded recursion depth limit (400)
//│ ║  l.509: 	(fun x -> x x) (fun x -> x x)
//│ ║         	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  α2604
//│ ╟── while constraining:  α2602  <!<  α2604
//│ ╟── while constraining:  (α2602,)  <!<  (α2604,)
//│ ╟── while constraining:  (α2604 -> α2605)  <!<  ((α2602,) -> α2603)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  ((α2602,) -> α2603)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  α2602
//│ ╟── while constraining:  α2600  <!<  α2602
//│ ╟── while constraining:  (α2600,)  <!<  (α2602,)
//│ ╟── while constraining:  (α2602 -> α2603)  <!<  ((α2600,) -> α2601)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  ((α2600,) -> α2601)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  α2600
//│ ╟── while constraining:  α2598  <!<  α2600
//│ ╟── while constraining:  (α2598,)  <!<  (α2600,)
//│ ╟── while constraining:  (α2600 -> α2601)  <!<  ((α2598,) -> α2599)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  ((α2598,) -> α2599)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  α2598
//│ ╟── while constraining:  α2596  <!<  α2598
//│ ╟── while constraining:  (α2596,)  <!<  (α2598,)
//│ ╟── while constraining:  (α2598 -> α2599)  <!<  ((α2596,) -> α2597)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  ((α2596,) -> α2597)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  α2596
//│ ╟── while constraining:  α2594  <!<  α2596
//│ ╟── while constraining:  (α2594,)  <!<  (α2596,)
//│ ╟── while constraining:  (α2596 -> α2597)  <!<  ((α2594,) -> α2595)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  ((α2594,) -> α2595)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  α2594
//│ ╟── while constraining:  α2592  <!<  α2594
//│ ╟── while constraining:  (α2592,)  <!<  (α2594,)
//│ ╟── while constraining:  (α2594 -> α2595)  <!<  ((α2592,) -> α2593)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  ((α2592,) -> α2593)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  α2592
//│ ╟── while constraining:  α2590  <!<  α2592
//│ ╟── while constraining:  (α2590,)  <!<  (α2592,)
//│ ╟── while constraining:  (α2592 -> α2593)  <!<  ((α2590,) -> α2591)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  ((α2590,) -> α2591)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  α2590
//│ ╟── while constraining:  α2588  <!<  α2590
//│ ╟── while constraining:  (α2588,)  <!<  (α2590,)
//│ ╟── while constraining:  (α2590 -> α2591)  <!<  ((α2588,) -> α2589)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  ((α2588,) -> α2589)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  α2588
//│ ╟── while constraining:  α2586  <!<  α2588
//│ ╟── while constraining:  (α2586,)  <!<  (α2588,)
//│ ╟── while constraining:  (α2588 -> α2589)  <!<  ((α2586,) -> α2587)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  ((α2586,) -> α2587)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  α2586
//│ ╟── while constraining:  α2584  <!<  α2586
//│ ╟── while constraining:  (α2584,)  <!<  (α2586,)
//│ ╟── while constraining:  (α2586 -> α2587)  <!<  ((α2584,) -> α2585)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  ((α2584,) -> α2585)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  α2584
//│ ╟── while constraining:  α2582  <!<  α2584
//│ ╟── while constraining:  (α2582,)  <!<  (α2584,)
//│ ╟── while constraining:  (α2584 -> α2585)  <!<  ((α2582,) -> α2583)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  ((α2582,) -> α2583)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  α2582
//│ ╟── while constraining:  α2577  <!<  α2582
//│ ╟── while constraining:  (α2577,)  <!<  (α2582,)
//│ ╟── while constraining:  (α2582 -> α2583)  <!<  ((α2577,) -> α2578)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  ((α2577,) -> α2578)
//│ ╟── while constraining:  ‹∀ 0. (α2579' -> α2580')›  <!<  α2577
//│ ╟── while constraining:  (‹∀ 0. (α2579' -> α2580')›,)  <!<  (α2577,)
//│ ╙── while constraining:  (α2577 -> α2578)  <!<  ((‹∀ 0. (α2579' -> α2580')›,) -> α2581)
//│ res: error
//│ Runtime error:
//│   RangeError: Maximum call stack size exceeded

//     * Rank 3, untypable in F2 but F3
//       (fun f x -> f (f x)) (fun f x -> f (f x)) (fun v w -> v)
(fun f -> fun x -> f (f x)) (fun f -> fun x -> f (f x)) (fun v -> fun w -> v)
//│ res: 'a -> 'b
//│   where
//│     'a :> 'b
//│     'b :> anything -> anything -> 'a
//│    = [Function (anonymous)]

//     * Rank 4, alternate formulation, untypeable in F2, but F3
//       (fun two k -> two two k)(fun f x -> f (f x)) (fun v w -> v)
(fun two -> fun k -> two two k) (fun f -> fun x -> f (f x)) (fun v -> fun w -> v)
//│ res: 'a -> 'b
//│   where
//│     'a :> 'b
//│     'b :> anything -> anything -> 'a
//│    = [Function (anonymous)]

//     * Rank 5, causes huge blowup. Do not attempt to output skeletons !
//       (fun two k -> two two two k)(fun f -x -> f (f x)) (fun v w -> v)
(fun two -> fun k -> two two two k) (fun f -> fun x -> f (f x)) (fun v -> fun w -> v)
//│ res: 'a -> 'b
//│   where
//│     'a :> 'c
//│     'c :> anything -> 'a | 'b
//│     'b :> anything -> 'c
//│    = [Function (anonymous)]



//  ?????
//     * Factorial of two, using the Y combinator
//       (fun h -> (fun x -> h (x x)) (fun x -> h (x x))) (fun f -> fun n -> n (fun v -> fun x -> fun y -> y) k (fun f -> fun x -> f x)(fun g -> fun x -> n (f (n (fun p -> fun s -> s (p (fun x -> fun y -> y)) (fun f -> fun x -> f (p (fun x -> fun y -> y) f x))) (fun s -> s (fun f -> fun x -> x) (fun f -> fun x -> x)) k) g) x)) (fun f -> fun x -> f (f x))

// *)
:e
(fun h -> (fun x -> h (x x)) (fun x -> h (x x))) (fun f -> fun n -> n (fun v -> fun x -> fun y -> y) k (fun f -> fun x -> f x)(fun g -> fun x -> n (f (n (fun p -> fun s -> s (p (fun x -> fun y -> y)) (fun f -> fun x -> f (p (fun x -> fun y -> y) f x))) (fun s -> s (fun f -> fun x -> x) (fun f -> fun x -> x)) k) g) x)) (fun f -> fun x -> f (f x))
//│ ╔══[ERROR] Subtyping constraint of the form `?a -> ?b <: (forall ?c, ?d, ?e. (?e -> ?d
//│   where
//│     ?f <: ?c -> ?d)) -> ?g` exceeded recursion depth limit (400)
//│ ║  l.616: 	(fun h -> (fun x -> h (x x)) (fun x -> h (x x))) (fun f -> fun n -> n (fun v -> fun x -> fun y -> y) k (fun f -> fun x -> f x)(fun g -> fun x -> n (f (n (fun p -> fun s -> s (p (fun x -> fun y -> y)) (fun f -> fun x -> f (p (fun x -> fun y -> y) f x))) (fun s -> s (fun f -> fun x -> x) (fun f -> fun x -> x)) k) g) x)) (fun f -> fun x -> f (f x))
//│ ║         	          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  α2792
//│ ╟── while constraining:  α2789  <!<  α2792
//│ ╟── while constraining:  (α2789,)  <!<  (α2792,)
//│ ╟── while constraining:  (α2792 -> α2791)  <!<  ((α2789,) -> α2787)
//│ ╟── while constraining:  {(α2792 -> α2791) where: α2749 <: ((α2790,) -> α2791)}  <!<  ((α2789,) -> α2787)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  ((α2789,) -> α2787)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  α2789
//│ ╟── while constraining:  α2786  <!<  α2789
//│ ╟── while constraining:  (α2786,)  <!<  (α2789,)
//│ ╟── while constraining:  (α2789 -> α2788)  <!<  ((α2786,) -> α2784)
//│ ╟── while constraining:  {(α2789 -> α2788) where: α2749 <: ((α2787,) -> α2788)}  <!<  ((α2786,) -> α2784)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  ((α2786,) -> α2784)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  α2786
//│ ╟── while constraining:  α2783  <!<  α2786
//│ ╟── while constraining:  (α2783,)  <!<  (α2786,)
//│ ╟── while constraining:  (α2786 -> α2785)  <!<  ((α2783,) -> α2781)
//│ ╟── while constraining:  {(α2786 -> α2785) where: α2749 <: ((α2784,) -> α2785)}  <!<  ((α2783,) -> α2781)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  ((α2783,) -> α2781)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  α2783
//│ ╟── while constraining:  α2780  <!<  α2783
//│ ╟── while constraining:  (α2780,)  <!<  (α2783,)
//│ ╟── while constraining:  (α2783 -> α2782)  <!<  ((α2780,) -> α2778)
//│ ╟── while constraining:  {(α2783 -> α2782) where: α2749 <: ((α2781,) -> α2782)}  <!<  ((α2780,) -> α2778)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  ((α2780,) -> α2778)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  α2780
//│ ╟── while constraining:  α2777  <!<  α2780
//│ ╟── while constraining:  (α2777,)  <!<  (α2780,)
//│ ╟── while constraining:  (α2780 -> α2779)  <!<  ((α2777,) -> α2775)
//│ ╟── while constraining:  {(α2780 -> α2779) where: α2749 <: ((α2778,) -> α2779)}  <!<  ((α2777,) -> α2775)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  ((α2777,) -> α2775)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  α2777
//│ ╟── while constraining:  α2774  <!<  α2777
//│ ╟── while constraining:  (α2774,)  <!<  (α2777,)
//│ ╟── while constraining:  (α2777 -> α2776)  <!<  ((α2774,) -> α2772)
//│ ╟── while constraining:  {(α2777 -> α2776) where: α2749 <: ((α2775,) -> α2776)}  <!<  ((α2774,) -> α2772)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  ((α2774,) -> α2772)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  α2774
//│ ╟── while constraining:  α2771  <!<  α2774
//│ ╟── while constraining:  (α2771,)  <!<  (α2774,)
//│ ╟── while constraining:  (α2774 -> α2773)  <!<  ((α2771,) -> α2769)
//│ ╟── while constraining:  {(α2774 -> α2773) where: α2749 <: ((α2772,) -> α2773)}  <!<  ((α2771,) -> α2769)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  ((α2771,) -> α2769)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  α2771
//│ ╟── while constraining:  α2768  <!<  α2771
//│ ╟── while constraining:  (α2768,)  <!<  (α2771,)
//│ ╟── while constraining:  (α2771 -> α2770)  <!<  ((α2768,) -> α2766)
//│ ╟── while constraining:  {(α2771 -> α2770) where: α2749 <: ((α2769,) -> α2770)}  <!<  ((α2768,) -> α2766)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  ((α2768,) -> α2766)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  α2768
//│ ╟── while constraining:  α2765  <!<  α2768
//│ ╟── while constraining:  (α2765,)  <!<  (α2768,)
//│ ╟── while constraining:  (α2768 -> α2767)  <!<  ((α2765,) -> α2763)
//│ ╟── while constraining:  {(α2768 -> α2767) where: α2749 <: ((α2766,) -> α2767)}  <!<  ((α2765,) -> α2763)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  ((α2765,) -> α2763)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  α2765
//│ ╟── while constraining:  α2762  <!<  α2765
//│ ╟── while constraining:  (α2762,)  <!<  (α2765,)
//│ ╟── while constraining:  (α2765 -> α2764)  <!<  ((α2762,) -> α2760)
//│ ╟── while constraining:  {(α2765 -> α2764) where: α2749 <: ((α2763,) -> α2764)}  <!<  ((α2762,) -> α2760)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  ((α2762,) -> α2760)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  α2762
//│ ╟── while constraining:  α2759  <!<  α2762
//│ ╟── while constraining:  (α2759,)  <!<  (α2762,)
//│ ╟── while constraining:  (α2762 -> α2761)  <!<  ((α2759,) -> α2757)
//│ ╟── while constraining:  {(α2762 -> α2761) where: α2749 <: ((α2760,) -> α2761)}  <!<  ((α2759,) -> α2757)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  ((α2759,) -> α2757)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  α2759
//│ ╟── while constraining:  α2750  <!<  α2759
//│ ╟── while constraining:  (α2750,)  <!<  (α2759,)
//│ ╟── while constraining:  (α2759 -> α2758)  <!<  ((α2750,) -> α2751)
//│ ╟── while constraining:  {(α2759 -> α2758) where: α2749 <: ((α2757,) -> α2758)}  <!<  ((α2750,) -> α2751)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  ((α2750,) -> α2751)
//│ ╟── while constraining:  ‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›  <!<  α2750
//│ ╟── while constraining:  (‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›,)  <!<  (α2750,)
//│ ╙── while constraining:  (α2750 -> α2752)  <!<  ((‹∀ 0. {(α2753' -> α2755') where: α2749 <: ((α2754',) -> α2755')}›,) -> α2756)
//│ res: error
//│ Runtime error:
//│   RangeError: Maximum call stack size exceeded

